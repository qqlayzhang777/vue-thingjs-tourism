!function(e){function n(t){if(r[t])return r[t].exports;var a=r[t]={exports:{},id:t,loaded:!1};return e[t].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var t=window.GiswayEngine3WebpackJsonp;window.GiswayEngine3WebpackJsonp=function(i,o){for(var p,s,l=0,c=[];l<i.length;l++)s=i[l],a[s]&&c.push.apply(c,a[s]),a[s]=0;for(p in o)e[p]=o[p];for(t&&t(i,o);c.length;)c.shift().call(null,n);if(o[0])return r[0]=0,n(0)};var r={},a={0:0};n.e=function(e,t){if(0===a[e])return t.call(null,n);if(void 0!==a[e])a[e].push(t);else{a[e]=[t];var r=document.getElementsByTagName("head")[0],i=document.createElement("script");i.type="text/javascript",i.charset="utf-8",i.async=!0,i.src=n.p+""+({1:"index"}[e]||e)+".js",r.appendChild(i)}},n.m=e,n.c=r,n.p=""}([]);

GiswayEngine3WebpackJsonp([1,0],[function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}var o=n(79),s=i(o);window.Engine=s["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(119),s=i(o),r=n(118),a=i(r),u=n(13),h=i(u);e["default"]=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof e?"undefined":(0,h["default"])(e)));t.prototype=(0,a["default"])(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(s["default"]?(0,s["default"])(t,e):t.__proto__=e)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(13),s=i(o);e["default"]=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==("undefined"==typeof e?"undefined":(0,s["default"])(e))&&"function"!=typeof e?t:e}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(5),s=i(o),r=n(13),a=i(r),u=n(1),h=i(u),l=n(9),d=i(l),f=function(){function t(e){(0,h["default"])(this,t),this.engine=e}return t.prototype.infoToArray=function(t){var e=[];return Array.isArray(t)?e=t:e.push(t),e},t.prototype.sendData=function(t,e,n){var i={method:e,cls:t,param:n};"object"==("undefined"==typeof n?"undefined":(0,a["default"])(n))&&(i.param=(0,s["default"])(n));var o={EventName:"ApiEvent",Values:(0,s["default"])(i)};if(this.engine.useDataChannel){var r=this.engine.getControl("ViewControl");r&&r.sendData(o)}else{var u=this.engine.getSocket("ApiSocket");u&&u.sendData(o)}},t.prototype.bindFn=function(t){var e=this,n=d["default"].getUUID(),i=function o(n,i){e.engine.off(n,o,e),t(n,i)};return this.engine.on(n,i,this),n},t.prototype.DoEngineMethod=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.engine.version;if(this.engine.Api.Type.Utils){var s=this.engine.Api.Type.Utils(t,o);s?this.sendData(s[0],s[1],i):this.sendData(e,n,i)}else this.sendData(e,n,i)},t}();e["default"]=f,t.exports=e["default"]},function(t,e,n){t.exports={"default":n(125),__esModule:!0}},function(t,e){var n=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=function a(){(0,s["default"])(this,a)};e["default"]=r,r.Mouse={Down:"MouseDown",Move:"MouseMove",Rotate:"MouseRotate",Drag:"MouseDrag",Up:"MouseUp",Click:"MouseClick",DragEnd:"MouseDragEnd",RotateEnd:"MouseRotateEnd",RightClick:"MouseRightClick",Wheel:"MouseWheel",KeyDown:"MouseKeyDown",KeyUp:"MouseKeyUp",KeyResetUp:"MouseKeyResetUp",MouseScale:"MouseScale",MousePosition:"MousePosition",MouseCoordiate:"MouseCoordiate"},r.Engine={Resize:"EngineResize",Finish:"EngineFinish",Connect:"EngineConnect",ServiceConnect:"EngineServiceConnect",ServiceInit:"EngineServiceInit",ServiceInitWait:"EngineServiceInitWait",Offer:"Offer",IceCandidate:"OfferIceCandidate",RegisterMouseMove:"RegisterMouseMove",CloseSession:"CloseSession",MessageImgURL:"MessageImgURL",CustomizeMessage:"CustomizeMessage"},r.Mesh={PopShow:"PopShow",PopsShow:"PopsShow",MeshRightClick:"MeshRightClick",MeshCilck:"MeshClick",MeshDoubleClick:"MeshDoubleClick",MeshUnClick:"MeshUnClick",MeshMove:"MeshMove"},r.Navigate={GetNavigateComplete:"GetNavigateComplete"},r.Key={WKeyDown:"WKeyDown",SKeyDown:"SKeyDown",AKeyDown:"AKeyDown",DKeyDown:"DKeyDown",WKeyUp:"WKeyUp",SKeyUp:"SKeyUp",AKeyUp:"AKeyUp",DKeyUp:"DKeyUp"},r.ViewType={WebRTC:"WebRTC",ImageStream:"ImageStream"},r.Version={v3_0:"3.0",v3_1:"3.1"},r.DataChannel={tokenAuthorizeResult:"tokenAuthorizeResult",closeSessionResult:"closeSessionResult"},t.exports=e["default"]},function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=function(){function t(){(0,s["default"])(this,t)}return t.getUUID=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11,e=16,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),i=[],o=void 0;if(e=e||n.length,t)for(o=0;o<t;o++)i[o]=n[0|Math.random()*e];else{var s=void 0;for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",o=0;o<36;o++)i[o]||(s=0|16*Math.random(),i[o]=n[19==o?3&s|8:s])}return"U"+i.join("")},t.warn=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.createElement("div");return n.innerHTML=t,document.body.appendChild(n),n.setAttribute("name","gisway"),n.style.cssText="\n        pointer-events: none;\n        position: absolute;\n        top: -100px;\n        background: rgba(39, 50, 56, .8);\n        color: rgb(255, 255, 255);\n        padding: 10px 40px;\n        letter-spacing: 1px;\n        font-size: 15px;\n        border-radius: 5px;\n        box-shadow: 0 4px 12px rgba(0,0,0,0.15);\n        z-index:999;\n        ",n.style.left="calc(50vw - "+n.offsetWidth/2+"px)",n.style.transition="top 250ms ease-out",n.style.top="20px",e||window.setTimeout(function(){document.body.removeChild(n)},3e3),n},t.stopEvents=function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},t.WebtoP84=function(t,e){return{x:this.WebtoP84_X(t),y:this.WebtoP84_Y(e)}},t.P84toWeb=function(t,e){return{x:this.P84ToWeb_X(t),y:this.P84ToWeb_Y(e)}},t.WebtoP84_Y=function(t){return t/=111319.4907777778,180/Math.PI*(2*Math.atan(Math.exp(t*Math.PI/180))-Math.PI/2)},t.WebtoP84_X=function(t){return t/111319.4907777778},t.P84ToWeb_Y=function(t){return t=Math.log(Math.tan((90+t)*Math.PI/360))/(Math.PI/180),t=111319.4907777778*t},t.P84ToWeb_X=function(t){return 111319.4907777778*t},t.degToRad=function(t){return t*Math.PI/180},t.isPC=function(){for(var t=navigator.userAgent,e=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],n=!0,i=0;i<e.length;i++)if(t.indexOf(e[i])>0){n=!1;break}return n},t.getTotalPage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=0,i=t/e;return n=t/e>parseInt(i+"")?parseInt(i+"")+1:parseInt(i+"")},t}();e["default"]=r,t.exports=e["default"]},function(t,e,n){var i=n(45)("wks"),o=n(35),s=n(8).Symbol,r="function"==typeof s,a=t.exports=function(t){return i[t]||(i[t]=r&&s[t]||(r?s:o)("Symbol."+t))};a.store=i},function(t,e,n){var i=n(15);t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var i=n(8),o=n(6),s=n(23),r=n(18),a=n(17),u="prototype",h=function(t,e,n){var l,d,f,c=t&h.F,p=t&h.G,y=t&h.S,v=t&h.P,g=t&h.B,m=t&h.W,b=p?o:o[e]||(o[e]={}),_=b[u],w=p?i:y?i[e]:(i[e]||{})[u];p&&(n=e);for(l in n)d=!c&&w&&void 0!==w[l],d&&a(b,l)||(f=d?w[l]:n[l],b[l]=p&&"function"!=typeof w[l]?n[l]:g&&d?s(f,i):m&&w[l]==f?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[u]=t[u],e}(f):v&&"function"==typeof f?s(Function.call,f):f,v&&((b.virtual||(b.virtual={}))[l]=f,t&h.R&&_&&!_[l]&&r(_,l,f)))};h.F=1,h.G=2,h.S=4,h.P=8,h.B=16,h.W=32,h.U=64,h.R=128,t.exports=h},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(122),s=i(o),r=n(121),a=i(r),u="function"==typeof a["default"]&&"symbol"==typeof s["default"]?function(t){return typeof t}:function(t){return t&&"function"==typeof a["default"]&&t.constructor===a["default"]&&t!==a["default"].prototype?"symbol":typeof t};e["default"]="function"==typeof a["default"]&&"symbol"===u(s["default"])?function(t){return"undefined"==typeof t?"undefined":u(t)}:function(t){return t&&"function"==typeof a["default"]&&t.constructor===a["default"]&&t!==a["default"].prototype?"symbol":"undefined"==typeof t?"undefined":u(t)}},function(t,e,n){t.exports=!n(20)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e){"use strict";function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var i=e.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var o in i)n(i,o)&&(t[o]=i[o])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,i,o){if(e.subarray&&t.subarray)return void t.set(e.subarray(n,n+i),o);for(var s=0;s<i;s++)t[o+s]=e[n+s]},flattenChunks:function(t){var e,n,i,o,s,r;for(i=0,e=0,n=t.length;e<n;e++)i+=t[e].length;for(r=new Uint8Array(i),o=0,e=0,n=t.length;e<n;e++)s=t[e],r.set(s,o),o+=s.length;return r}},s={arraySet:function(t,e,n,i,o){for(var s=0;s<i;s++)t[o+s]=e[n+s]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(i)},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var i=n(19),o=n(32);t.exports=n(14)?function(t,e,n){return i.f(t,e,o(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var i=n(11),o=n(60),s=n(47),r=Object.defineProperty;e.f=n(14)?Object.defineProperty:function(t,e,n){if(i(t),e=s(e,!0),i(n),o)try{return r(t,e,n)}catch(a){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},function(t,e,n){var i=n(61),o=n(38);t.exports=function(t){return i(o(t))}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var i=n(30);t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,o){return t.call(e,n,i,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports={}},function(t,e){t.exports=!0},function(t,e,n){var i=n(65),o=n(40);t.exports=Object.keys||function(t){return i(t,o)}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(5),s=i(o),r=n(1),a=i(r),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;(0,a["default"])(this,t),this.x=e,this.y=n}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.setScalar=function(t){return this.x=t,this.y=t,this},t.prototype.setX=function(t){return this.x=t,this},t.prototype.setY=function(t){return this.y=t,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.add=function(t,e){return void 0!=e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},t.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},t.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},t.prototype.sub=function(t,e){return void 0!=e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)},t.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this},t.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},t.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},t.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},t.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},t.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},t.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},t.prototype.clamp=function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},t.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},t.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},t.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},t.prototype.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.cross=function(t){return this.x*t.y-this.y*t.x},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)},t.prototype.angle=function e(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},t.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},t.prototype.distanceToSquared=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},t.prototype.equals=function(t){return t.x==this.x&&t.y==this.y},t.prototype.toString=function(){return(0,s["default"])(this)},t}();e["default"]=u,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(5),s=i(o),r=n(1),a=i(r),u=n(9),h=i(u),l=n(55),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:4326;(0,a["default"])(this,t),this.x=e,this.y=n,this.z=i,this.EPSGType=o}return t.prototype.set=function(t,e,n){return this.x=t,this.y=e,this.z=n,this},t.prototype.setScalar=function(t){return this.x=t,this.y=t,this.z=t,this},t.prototype.setX=function(t){return this.x=t,this},t.prototype.setY=function(t){return this.y=t,this},t.prototype.setZ=function(t){return this.z=t,this},t.prototype.clone=function(){return new t(this.x,this.y,this.z)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},t.prototype.add=function(t,e){return void 0!=e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this.z+=t,this},t.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},t.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},t.prototype.sub=function(t,e){return void 0!=e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},t.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this.z-=t,this},t.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},t.prototype.multiply=function(t,e){return void 0!=e?this.multiplyVectors(t,e):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this},t.prototype.multiplyVectors=function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},t.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},t.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},t.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},t.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},t.prototype.clamp=function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},t.prototype.clampScalar=function(e,n){var i=new t,o=new t;return i.set(e,e,e),o.set(n,n,n),this.clamp(i,o)},t.prototype.clampLength=function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},t.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},t.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},t.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},t.prototype.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},t.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},t.prototype.normalize=function(){return this.divideScalar(this.length()||1)},t.prototype.setLength=function(t){return this.normalize().multiplyScalar(t)},t.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},t.prototype.lerpVectors=function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},t.prototype.cross=function(t,e){return void 0!=e?this.crossVectors(t,e):this.crossVectors(this,t)},t.prototype.crossVectors=function(t,e){var n=t.x,i=t.y,o=t.z,s=e.x,r=e.y,a=e.z;return this.x=i*a-o*r,this.y=o*s-n*a,this.z=n*r-i*s,this},t.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},t.prototype.distanceToSquared=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i},t.prototype.equals=function(t){return t.x==this.x&&t.y==this.y&&t.z==this.z},t.prototype.toString=function(){return(0,s["default"])(this)},t.prototype.changeEPSGType=function(t){if(this.EPSGType!=t)return t==l.Const.EPSGType.EPSG84?(this.y=h["default"].WebtoP84_Y(this.y),this.x=h["default"].WebtoP84_X(this.x)):t==l.Const.EPSGType.EPSGWeb?(this.y=h["default"].P84ToWeb_Y(this.y),this.x=h["default"].P84ToWeb_X(this.x)):console.log("\u672a\u77e5\u7c7b\u578b\u8f6c\u6362:"+this.EPSGType+"=>"+t),this.EPSGType=t,this},t}();e["default"]=d,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e.ApiMethod=e["default"]=void 0;var o=n(116),s=i(o),r=n(1),a=i(r),u=n(7),h=i(u),l=function(){function t(){(0,a["default"])(this,t)}return t.GetCurrentVersionMethodName=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:h["default"].Version.v3_0;return void 0===t||null===t?null:d[e]&&d[e][t]?d[e][t]:null},t.ConcatBuf=function(){for(var t=0,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];var o=!0,r=!1,a=void 0;try{for(var u,h=(0,s["default"])(n);!(o=(u=h.next()).done);o=!0){var l=u.value;t+=l.byteLength}}catch(d){r=!0,a=d}finally{try{!o&&h["return"]&&h["return"]()}finally{if(r)throw a}}var f=new Uint8Array(t),c=0,p=!0,y=!1,v=void 0;try{for(var g,m=(0,s["default"])(n);!(p=(g=m.next()).done);p=!0){var b=g.value;f.set(b,c),c+=b.byteLength}}catch(d){y=!0,v=d}finally{try{!p&&m["return"]&&m["return"]()}finally{if(y)throw v}}return f},t.StrToBuf=function(t){for(var e="",n=0;n<t.length;n++)e+=","+this.CodeToUTF8(t.charCodeAt(n));return e+=",00",new Uint8Array(e.match(/[\da-f]{2}/gi).map(function(t){return parseInt(t,16)})).buffer},t.BufToStr=function(t){return String.fromCharCode.apply(null,new Uint8Array(t))},t.CodeToUTF8=function(t){var e=t.toString(2);if(t<128)return t.toString(16);if(t<2048){e=("00000000000000000"+e).slice(-11);var n=parseInt("110"+e.substring(0,5),2),i=parseInt("10"+e.substring(5),2);return n.toString(16)+","+i.toString(16)}e=("00000000000000000"+e).slice(-16);var o=parseInt("1110"+e.substring(0,4),2),s=parseInt("10"+e.substring(4,10),2),r=parseInt("10"+e.substring(10),2);return o.toString(16)+","+s.toString(16)+","+r.toString(16)},t}();e["default"]=l;var d=e.ApiMethod={"3.0":{doEdit:["MeshInfoApi","DoEdit"],doMeshMove:["MeshInfoApi","DoMeshMove"],DoMeshMoveByAddNode:["MeshInfoApi","DoMeshMoveByAddNode"],setMeshMoveState:["MeshInfoApi","MeshMoveState"],switchToEffect:["CameraApi","SwitchToEffect"]},3.1:{doEdit:["EditApi","DoEdit"],doMeshMove:["EditApi","DoMeshMove"],DoMeshMoveByAddNode:["EditApi","DoMeshMoveByAddNode"],setMeshMoveState:["EditApi","MeshMoveState"],switchToEffect:["CameraGradientApi","SwitchToEffect"]}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){var i=n(19).f,o=n(17),s=n(10)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,s)&&i(t,s,{configurable:!0,value:e})}},function(t,e,n){var i=n(38);t.exports=function(t){return Object(i(t))}},function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(57),s=i(o),r=n(1),a=i(r),u=n(3),h=i(u),l=n(2),d=i(l),f=n(106),c=i(f),p=n(9),y=i(p),v=0,g=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,a["default"])(this,e);var i=(0,h["default"])(this,t.call(this));return i.initAttributes(),i.toAssign(n),i.initComponent(),i}return(0,d["default"])(e,t),e.prototype.toAssign=function(t){(0,s["default"])(this.userData,t)},e.prototype.initAttributes=function(){this.userData={},this.uuid=y["default"].getUUID(),this.type="Fn",this.id=v++},e.prototype.updateID=function(){this.id=v++},e.prototype.initComponent=function(){},e.prototype.dispose=function(){this.fireEvent("dispose",this)},e}(c["default"]);e["default"]=g,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(5),s=i(o),r=n(1),a=i(r),u=n(7),h=i(u),l=n(54),d=i(l),f=n(53),c=i(f),p=function(){function t(e){(0,a["default"])(this,t),this.engine=e,this.lastX=0,this.lastY=0,this.mouseApi=this.engine.Api.Mouse,this.eventInfo=[{event:h["default"].Mouse.Click,fn:this.click},{event:h["default"].Mouse.RightClick,fn:this.rightClick},{event:h["default"].Mouse.Drag,fn:this.drag},{event:h["default"].Mouse.Rotate,fn:this.rotate},{event:h["default"].Mouse.Wheel,fn:this.wheel},{event:h["default"].Mouse.Down,fn:this.down},{event:h["default"].Mouse.Up,fn:this.up},{event:h["default"].Mouse.MouseCoordiate,fn:this.mousePostion},{event:"RegisterMouseMove",fn:this.registerMouseMove}],this.engine.userData.KeyEvents===!0&&(this.eventInfo.push({event:h["default"].Mouse.KeyDown,fn:this.KeyDown}),this.eventInfo.push({event:h["default"].Mouse.KeyUp,fn:this.KeyUp}),this.eventInfo.push({event:h["default"].Mouse.KeyResetUp,fn:this.KeyResetUp})),this.eventInfoJson={},this.keyDownCode=[],this.keyInfo=["KeyW","KeyS","KeyA","KeyD","KeyQ","KeyE","KeyF","ShiftLeft"],this.register()}return t.prototype.click=function(t,e){if(e!=this){var n=this.engine.getControl("ViewControl");if(n.main){var i=this.engine.getScale(),o=new d["default"](t,"click",i,this.engine);o.y=parseInt(""+(n.getSize().height-o.y)),this.sendData(o)}}},t.prototype.rightClick=function(t,e){if(e!=this){var n=this.engine.getControl("ViewControl");if(n.main){var i=new d["default"](t,"rightClick",this.engine.getScale(),this.engine);i.y=parseInt(""+(n.getSize().height-i.y)),this.sendData(i)}}},t.prototype.drag=function(t,e){if(e!=this){var n=this.engine.getControl("ViewControl");if(n.main){var i=new d["default"](t,"drag",this.engine.getScale(),this.engine);this.oldMouse&&this.oldMouse.equals(i)||(i.y=parseInt(""+(n.getSize().height-i.y)),i.initOffset(this.oldMouse),this.oldMouse=i,this.sendData(i))}}},t.prototype.KeyDown=function(t,e){if(t.ctrlKey||t.shiftKey||t.altKey)return void t.preventDefault();if(e!=this&&this.keyInfo.includes(t.code)){var n=new c["default"](t,t.code+"Down");n.code=t.keyCode,this.keyDownCode.includes(t.keyCode)||(this.keyDownCode.push(t.keyCode),this.sendData(n))}},t.prototype.KeyUp=function(t,e){if(t.ctrlKey||t.shiftKey||t.altKey)return void t.preventDefault();if(e!=this&&this.keyInfo.includes(t.code)){var n=new c["default"](t,t.code+"Up");n.code=t.keyCode,this.sendData(n);var i=this.keyDownCode.indexOf(t.keyCode);this.keyDownCode.splice(i,1)}},t.prototype.KeyResetUp=function(){console.log("KeyReset"),this.keyDownCode=[];var t=new c["default"](new KeyboardEvent("KeyResetUp"),"KeyResetUp");t.code=-1,this.sendData(t)},t.prototype.down=function(t){var e=this.engine.getControl("ViewControl");if(e.main){var n=new d["default"](t,"down",this.engine.getScale(),this.engine);n.y=parseInt(""+(e.getSize().height-n.y)),this.oldMouse=n,this.sendData(n)}},t.prototype.up=function(t){var e=this.engine.getControl("ViewControl");if(e.main){var n=new d["default"](t,"up",this.engine.getScale(),this.engine);n.y=parseInt(""+(e.getSize().height-n.y)),this.sendData(n),this.oldMouse=void 0}},t.prototype.rotate=function(t,e){if(e!=this){var n=this.engine.getControl("ViewControl");if(n.main){var i=new d["default"](t,"rotate",this.engine.getScale(),this.engine);i.y=parseInt(""+(n.getSize().height-i.y)),i.initOffset(this.oldMouse),this.oldMouse=i,this.sendData(i)}}},t.prototype.wheel=function(t,e){if(e!=this){var n=this.engine.getControl("ViewControl");if(n.main){var i=new d["default"](t,"wheel",this.engine.getScale(),this.engine);this.sendData(i)}}},t.prototype.mousePostion=function(t){var e=this.engine.getControl("ViewControl");if(e.main){var n=new d["default"](t,"MouseCoordiate",this.engine.getScale(),this.engine);n.y=parseInt(""+(e.getSize().height-n.y)),this.sendData(n)}},t.prototype.mouseMove=function(t){var e=parseInt(""+(t.movementX||0)),n=parseInt(""+(t.movementY||0));this.lastX=e,this.lastY=n;var i=this.engine.getControl("ViewControl");if(i.main){var o=new d["default"](t,"move",this.engine.getScale(),this.engine);o.y=parseInt(""+(i.getSize().height-o.y)),this.sendData(o)}},t.prototype.dealEvent=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.eventInfoJson[t];n&&(1==e?this.engine.on(n.event,n.fn,this):this.engine.off(n.event,n.fn,this))},t.prototype.dispose=function(){var t=this;this.eventInfo.forEach(function(e){t.engine.off(e.event,e.fn,t)},this)},t.prototype.register=function(){var t=this;this.eventInfo.forEach(function(e){t.engine.on(e.event,e.fn,t),t.eventInfoJson[e.event]=e},this),this.registerMouseMove(this.engine.userData.enableMoveListen?"1":"0")},t.prototype.sendData=function(t){var e=t instanceof c["default"]?"KeyEvent":"MouseEvent",n={EventName:e,Values:(0,s["default"])(t)};if(this.engine.useDataChannel){var i=this.engine.getControl("ViewControl");i&&i.sendData(n)}else{var o=this.engine.getSocket("ApiSocket");o&&o.sendData(n)}},t.prototype.registerMouseMove=function(t){parseInt(t)?this.engine.on(h["default"].Mouse.Move,this.mouseMove,this):this.engine.off(h["default"].Mouse.Move,this.mouseMove,this)},t}();e["default"]=p,t.exports=e["default"]},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){var i=n(15),o=n(8).document,s=i(o)&&i(o.createElement);t.exports=function(t){return s?o.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,n){"use strict";function i(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=o(e),this.reject=o(n)}var o=n(30);t.exports.f=function(t){return new i(t)}},function(t,e,n){var i=n(11),o=n(148),s=n(40),r=n(44)("IE_PROTO"),a=function(){},u="prototype",h=function(){var t,e=n(39)("iframe"),i=s.length,o="<",r=">";for(e.style.display="none",n(59).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+r+"document.F=Object"+o+"/script"+r),t.close(),h=t.F;i--;)delete h[u][s[i]];return h()};t.exports=Object.create||function(t,e){var n;return null!==t?(a[u]=i(t),n=new a,a[u]=null,n[r]=t):n=h(),void 0===e?n:o(n,e)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var i=n(45)("keys"),o=n(35);t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var i=n(6),o=n(8),s="__core-js_shared__",r=o[s]||(o[s]={});(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n(25)?"pure":"global",copyright:"\xa9 2019 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},function(t,e,n){var i=n(15);t.exports=function(t,e){if(!i(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!i(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!i(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var i=n(8),o=n(6),s=n(25),r=n(49),a=n(19).f;t.exports=function(t){var e=o.Symbol||(o.Symbol=s?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:r.f(t)})}},function(t,e,n){e.f=n(10)},function(t,e,n){"use strict";var i=n(155)(!0);n(62)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){n(159);for(var i=n(8),o=n(18),s=n(24),r=n(10)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<a.length;u++){var h=a[u],l=i[h],d=l&&l.prototype;d&&!d[r]&&o(d,r,h),s[h]=s.Array}},function(t,e){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=function a(t,e){(0,s["default"])(this,a),this.type=e,this.code=t.keyCode};e["default"]=r,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=function(){function t(e,n,i,o){(0,s["default"])(this,t);var r=e.layerX||e.offsetX||e.clientX,a=e.layerY||e.offsetY||e.clientY;this.x=(r-o.videoOffSetLeft)/i.w,this.y=(a-o.videoOffSetTop)/i.h,this.x=parseInt(""+this.x),this.y=parseInt(""+this.y),this.xv=parseInt(""+(e.movementX||0)/i.w),this.yv=parseInt(""+(e.movementY||0)/i.h),
this.button=e.buttons,this.type=n,this.delta=e.wheelDelta||0,this.ctrlKey=e.ctrlKey||!1,this.shiftKey=e.shiftKey||!1}return t.prototype.equals=function(t){return t.xv==this.xv&&t.yv==this.yv&&t.type==this.type&&t.x==this.x},t.prototype.initOffset=function(t){void 0!=t&&(this.xv=this.x-t.x,this.yv=t.y-this.y)},t}();e["default"]=r,t.exports=e["default"]},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.Const={EPSGType:{EPSG84:4326,EPSGWeb:3857}}},function(t,e,n){t.exports={"default":n(128),__esModule:!0}},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var o=n(117),s=i(o);e["default"]=s["default"]||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t}},function(t,e,n){var i=n(22),o=n(10)("toStringTag"),s="Arguments"==i(function(){return arguments}()),r=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,a;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=r(e=Object(t),o))?n:s?i(e):"Object"==(a=i(e))&&"function"==typeof e.callee?"Arguments":a}},function(t,e,n){var i=n(8).document;t.exports=i&&i.documentElement},function(t,e,n){t.exports=!n(14)&&!n(20)(function(){return 7!=Object.defineProperty(n(39)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var i=n(22);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},function(t,e,n){"use strict";var i=n(25),o=n(12),s=n(68),r=n(18),a=n(24),u=n(142),h=n(33),l=n(150),d=n(10)("iterator"),f=!([].keys&&"next"in[].keys()),c="@@iterator",p="keys",y="values",v=function(){return this};t.exports=function(t,e,n,g,m,b,_){u(n,e,g);var w,M,x,S=function(t){if(!f&&t in T)return T[t];switch(t){case p:return function(){return new n(this,t)};case y:return function(){return new n(this,t)}}return function(){return new n(this,t)}},D=e+" Iterator",k=m==y,C=!1,T=t.prototype,E=T[d]||T[c]||m&&T[m],P=E||S(m),A=m?k?S("entries"):P:void 0,z="Array"==e?T.entries||E:E;if(z&&(x=l(z.call(new t)),x!==Object.prototype&&x.next&&(h(x,D,!0),i||"function"==typeof x[d]||r(x,d,v))),k&&E&&E.name!==y&&(C=!0,P=function(){return E.call(this)}),i&&!_||!f&&!C&&T[d]||r(T,d,P),a[e]=P,a[D]=v,m)if(w={values:k?P:S(y),keys:b?P:S(p),entries:A},_)for(M in w)M in T||s(T,M,w[M]);else o(o.P+o.F*(f||C),e,w);return w}},function(t,e,n){var i=n(31),o=n(32),s=n(21),r=n(47),a=n(17),u=n(60),h=Object.getOwnPropertyDescriptor;e.f=n(14)?h:function(t,e){if(t=s(t),e=r(e,!0),u)try{return h(t,e)}catch(n){}if(a(t,e))return o(!i.f.call(t,e),t[e])}},function(t,e,n){var i=n(65),o=n(40).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,o)}},function(t,e,n){var i=n(17),o=n(21),s=n(135)(!1),r=n(44)("IE_PROTO");t.exports=function(t,e){var n,a=o(t),u=0,h=[];for(n in a)n!=r&&i(a,n)&&h.push(n);for(;e.length>u;)i(a,n=e[u++])&&(~s(h,n)||h.push(n));return h}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},function(t,e,n){var i=n(11),o=n(15),s=n(41);t.exports=function(t,e){if(i(t),o(e)&&e.constructor===t)return e;var n=s.f(t),r=n.resolve;return r(e),n.promise}},function(t,e,n){t.exports=n(18)},function(t,e,n){var i=n(11),o=n(30),s=n(10)("species");t.exports=function(t,e){var n,r=i(t).constructor;return void 0===r||void 0==(n=i(r)[s])?e:o(n)}},function(t,e,n){var i,o,s,r=n(23),a=n(138),u=n(59),h=n(39),l=n(8),d=l.process,f=l.setImmediate,c=l.clearImmediate,p=l.MessageChannel,y=l.Dispatch,v=0,g={},m="onreadystatechange",b=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},_=function(t){b.call(t.data)};f&&c||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return g[++v]=function(){a("function"==typeof t?t:Function(t),e)},i(v),v},c=function(t){delete g[t]},"process"==n(22)(d)?i=function(t){d.nextTick(r(b,t,1))}:y&&y.now?i=function(t){y.now(r(b,t,1))}:p?(o=new p,s=o.port2,o.port1.onmessage=_,i=r(s.postMessage,s,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(t){l.postMessage(t+"","*")},l.addEventListener("message",_,!1)):i=m in h("script")?function(t){u.appendChild(h("script"))[m]=function(){u.removeChild(this),b.call(t)}}:function(t){setTimeout(r(b,t,1),0)}),t.exports={set:f,clear:c}},function(t,e,n){var i=n(46),o=Math.min;t.exports=function(t){return t>0?o(i(t),9007199254740991):0}},function(t,e,n){var i=n(58),o=n(10)("iterator"),s=n(24);t.exports=n(6).getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||s[i(t)]}},function(t,e){},function(t,e,n){"use strict";function i(t,e){if(e<65534&&(t.subarray&&r||!t.subarray&&s))return String.fromCharCode.apply(null,o.shrinkBuf(t,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}var o=n(16),s=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(a){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(a){r=!1}for(var u=new o.Buf8(256),h=0;h<256;h++)u[h]=h>=252?6:h>=248?5:h>=240?4:h>=224?3:h>=192?2:1;u[254]=u[254]=1,e.string2buf=function(t){var e,n,i,s,r,a=t.length,u=0;for(s=0;s<a;s++)n=t.charCodeAt(s),55296===(64512&n)&&s+1<a&&(i=t.charCodeAt(s+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),s++)),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new o.Buf8(u),r=0,s=0;r<u;s++)n=t.charCodeAt(s),55296===(64512&n)&&s+1<a&&(i=t.charCodeAt(s+1),56320===(64512&i)&&(n=65536+(n-55296<<10)+(i-56320),s++)),n<128?e[r++]=n:n<2048?(e[r++]=192|n>>>6,e[r++]=128|63&n):n<65536?(e[r++]=224|n>>>12,e[r++]=128|n>>>6&63,e[r++]=128|63&n):(e[r++]=240|n>>>18,e[r++]=128|n>>>12&63,e[r++]=128|n>>>6&63,e[r++]=128|63&n);return e},e.buf2binstring=function(t){return i(t,t.length)},e.binstring2buf=function(t){for(var e=new o.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,o,s,r,a=e||t.length,h=new Array(2*a);for(o=0,n=0;n<a;)if(s=t[n++],s<128)h[o++]=s;else if(r=u[s],r>4)h[o++]=65533,n+=r-1;else{for(s&=2===r?31:3===r?15:7;r>1&&n<a;)s=s<<6|63&t[n++],r--;r>1?h[o++]=65533:s<65536?h[o++]=s:(s-=65536,h[o++]=55296|s>>10&1023,h[o++]=56320|1023&s)}return i(h,o)},e.utf8border=function(t,e){var n;for(e=e||t.length,e>t.length&&(e=t.length),n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0?e:0===n?e:n+u[t[n]]>e?n:e}},function(t,e){"use strict";function n(t,e,n,i){for(var o=65535&t|0,s=t>>>16&65535|0,r=0;0!==n;){r=n>2e3?2e3:n,n-=r;do o=o+e[i++]|0,s=s+o|0;while(--r);o%=65521,s%=65521}return o|s<<16|0}t.exports=n},function(t,e){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e){"use strict";function n(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}function i(t,e,n,i){var s=o,r=i+n;t^=-1;for(var a=i;a<r;a++)t=t>>>8^s[255&(t^e[a])];return t^-1}var o=n();t.exports=i},function(t,e){"use strict";function n(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=n},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var s=n(56),r=o(s),a=n(1),u=o(a),h=n(3),l=o(h),d=n(2),f=o(d),c=n(101),p=i(c),y=n(105),v=i(y),g=n(36),m=o(g),b=n(37),_=o(b),w=n(27),M=o(w),x=n(113),S=i(x),D=n(7),k=o(D),C=function(t){function e(){(0,u["default"])(this,e);var n=(0,l["default"])(this,t.apply(this,arguments));return n.videoOffSetTop=0,n.videoOffSetLeft=0,n.version=k["default"].Version.v3_1,n.base=!1,n.useDataChannel=!1,n}return(0,f["default"])(e,t),e.prototype.initAttributes=function(){t.prototype.initAttributes.call(this),this.controls={},this.sockets={},this.Api={}},e.prototype.getControl=function(t){return this.controls[t]},e.prototype.getSocket=function(t){return this.sockets[t]},e.prototype.resetState=function(){this.version=k["default"].Version.v3_1,this.base=!1,this.useDataChannel=!1,this.uid=void 0},e.prototype.initControls=function(){var t=this;(0,r["default"])(v).map(function(e){t.controls[e]=new v[e](t)},this)},e.prototype.initSockets=function(){var t=this;(0,r["default"])(S).map(function(e){t.sockets[e]=new S[e](t)},this)},e.prototype.initApis=function(){var t=this;(0,r["default"])(p).map(function(e){t.Api[e]=new p[e](t)},this)},e.prototype.initSize=function(){var t=this.userData.dom.offsetWidth,e=this.userData.dom.offsetHeight,n=this.getControl("ViewControl");if(n.mainType===k["default"].ViewType.WebRTC){n.domElement.style.width=t+"px",n.domElement.style.height=e+"px";var i=n.main,o=this.getScreenSize(),s=t-o.width,r=e-o.height,a=0;if(s>0||r>0){a=1;var u=t/e;u>o.screenScale?(i.width=t,i.height=t/o.screenScale,s=t-i.width,r=e-i.height):u<o.screenScale?(i.width=e*o.screenScale,i.height=e,s=t-i.width,r=e-i.height):(i.width=e*o.screenScale,i.height=e,s=0,r=0)}else a=s<0&&r<0?-1:0;a<=0&&(i.width=o.width,i.height=o.height,s=t-i.width,r=e-i.height),this.videoOffSetLeft=s/2,this.videoOffSetTop=r/2,i.style["margin-left"]=this.videoOffSetLeft+"px",i.style["margin-top"]=this.videoOffSetTop+"px",this.useDataChannel||(this.base?this.Api.Screen.setSize(i.width,i.height):this.Api.Screen.setSize({width:i.width,height:i.height}))}else if(n.mainType===k["default"].ViewType.ImageStream){var h=this.getControl("ViewControl");h.main.width=t,h.main.height=e,this.useDataChannel||(this.base?this.Api.Screen.setSize(t,e):this.Api.Screen.setSize({width:t,height:e}))}},e.prototype.getScreen=function(){var t=this.getControl("ViewControl");return null==t?{w:-1,h:-1}:{w:t.main.offsetWidth,h:t.main.offsetHeight}},e.prototype.getScale=function(){var t=this.getScreenSize(),e=this.controls.ViewControl;if(e.mainType===k["default"].ViewType.ImageStream){var n=Math.max(1,this.userData.dom.offsetWidth/t.width),i=Math.max(1,this.userData.dom.offsetHeight/t.height);return{w:n,h:i}}var o=e.main.width/t.width,s=e.main.height/t.height;return{w:o,h:s}},e.prototype.getOffset=function(){var t=this.userData.dom.offsetLeft,e=this.userData.dom.offsetTop;return new M["default"](t,e)},e.prototype.getScreenSize=function(){var t=this.userData.screenWidth||1920,e=this.userData.screenHeight||1080;return{width:t,height:e,screenScale:t/e}},e.prototype.getIceParam=function(){if(this.userData.iceUser&&this.userData.icePwd){if(this.userData.turnServer)return this.userData.stunServer?[this.userData.turnServer,this.userData.iceUser,this.userData.icePwd,this.userData.stunServer]:[this.userData.turnServer,this.userData.iceUser,this.userData.icePwd];if(this.userData.stunServer)return[this.userData.stunServer,this.userData.iceUser,this.userData.icePwd]}return[]},e.prototype.getHandler=function(){return this.handler},e.prototype.setHandler=function(t){this.handler&&this.handler.dispose(),this.handler=t},e.prototype.open=function(){this.resetState(),this.initApis(),this.initControls(),this.initSockets(),this.setHandler(new _["default"](this)),window.doGiswayEngine3Override&&window.doGiswayEngine3Override(this,"engine")},e.prototype.disposeSockets=function(){var t=this;(0,r["default"])(this.sockets).map(function(e){t.sockets[e].dispose()})},e.prototype.disposeControls=function(){var t=this;(0,r["default"])(this.controls).map(function(e){t.controls[e].dispose()}),this.controls={}},e.prototype.dispose=function(){this.disposeControls(),this.disposeSockets(),this.eventSet={},t.prototype.dispose.call(this)},e}(m["default"]);e["default"]=C,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(5),s=i(o),r=n(1),a=i(r),u=n(3),h=i(u),l=n(2),d=i(l),f=n(28),c=i(f),p=n(7),y=i(p),v=n(4),g=i(v),m=n(29),b=i(m),_=function(t){function e(){return(0,a["default"])(this,e),(0,h["default"])(this,t.apply(this,arguments))}return(0,d["default"])(e,t),e.prototype.FlyTTTTT=function(){},e.prototype.flyTo=function(t,e){return t?("number"!=typeof t.time&&(t.time=4),t.lookAtTime=3,e&&(t.fn=this.bindFn(e)),void this.sendData("CameraApi","FlyTo",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.flyLinesTo=function(t,e){return t?(t.nodes=(0,s["default"])(t.points),t.duration="number"==typeof t.time?t.time:5,t.smoothType="number"==typeof t.smoothType?t.smoothType:1,t.target instanceof Array&&(t.target=(0,s["default"])(t.target)),delete t.points,delete t.time,console.log(t.target.length),e&&(t.fn=this.bindFn(e)),void this.sendData("CameraApi","FlyLinesTo",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.setFlyToSpeed=function(t){return t?void("number"==typeof t.speed&&this.sendData("CameraApi","SetFlyToSpeed",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.setFlyState=function(t){return t?void this.sendData("CameraApi","SetFlyState","number"==typeof t.state?t.state:0):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.cameraFlyLinesTo=function(t,e){return t?("number"!=typeof t.duration&&(t.duration=60),t.pauseStep instanceof Array&&(t.pauseStep=(0,s["default"])(t.pauseStep)),e&&(t.fn=this.bindFn(e)),void this.sendData("CameraApi","CameraFlyLines",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.stopTween=function(t){var e={};t&&(e.fn=this.bindFn(t)),this.sendData("CameraApi","StopTween",e)},e.prototype.pauseTween=function(t){var e={};t&&(e.fn=this.bindFn(t)),this.sendData("CameraApi","PauseTween",e)},e.prototype.resumeTween=function(t){var e={};t&&(e.fn=this.bindFn(t)),this.sendData("CameraApi","ResumeTween",e)},e.prototype.lookAt=function(t,e){return t?("boolean"!=typeof t.click&&(t.click=!1),"number"!=typeof t.time&&(t.time=4),t.offset instanceof c["default"]||(t.offset=new c["default"](50,50,50)),e&&(t.fn=this.bindFn(e)),void this.sendData("CameraApi","LookAt",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.info=function(t){return t?void this.sendData("CameraApi","Info",this.bindFn(t)):void console.log("\u8bf7\u8f93\u5165\u56de\u8c03\u51fd\u6570")},e.prototype.centerInfo=function(t){return t?void this.sendData("CameraApi","CenterInfo",this.bindFn(t)):void console.log("\u8bf7\u8f93\u5165\u56de\u8c03\u51fd\u6570")},e.prototype.setViewBound=function(t){return t?void this.sendData("CameraApi","SetViewBound",t):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.setLookDistance=function(t){return t?void this.sendData("CameraApi","SetLookDistance",t):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.zoom=function(t){if(!t)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");"boolean"!=typeof t.wheel&&(t.wheel=!1);var e={buttons:0,wheelDelta:t.wheel?120:-120,type:"wheel",layerX:10,layerY:10};this.engine.fireEvent(y["default"].Mouse.Wheel,e,this.engine)},e.prototype.focus=function(t,e){return t?(t.offset instanceof c["default"]||(t.offset=new c["default"](50,50,50)),"number"==typeof t.speed&&t.speed||(t.speed=1),e&&(t.fn=this.bindFn(e)),void this.sendData("CameraApi","Focus",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.stopFocus=function(){this.sendData("CameraApi","StopFocus",void 0)},e.prototype.resetCamera=function(){this.sendData("CameraApi","ResetCamera",void 0)},e.prototype.resetToNorth=function(){this.sendData("CameraApi","ResetToNorth",void 0)},e.prototype.rotateCamera=function(t){"boolean"!=typeof t.lookfocus&&(t.lookfocus=!0);var e={angle:t.angle,lookfocus:t.lookfocus};this.sendData("CameraApi","RotateCamera",e)},e.prototype.resetFlyMode=function(){this.sendData("CameraApi","ResetFlyMode",void 0)},e.prototype.switchToEffect=function(t,e){if(!t||"number"!=typeof t.effectID)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");e&&(t.fn=this.bindFn(e));var n=b["default"].GetCurrentVersionMethodName("switchToEffect",this.engine.version);n?this.sendData(n[0],n[1],t):this.sendData("CameraGradientApi","SwitchToEffect",t)},e.prototype.startRotate=function(t,e){return t?("number"!=typeof t.circle&&(t.circle=0),e&&(t.fn=this.bindFn(e)),"number"!=typeof t.speed&&(t.speed=1),void this.sendData("CameraApi","StartRotate",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.stopRotate=function(){this.sendData("CameraApi","StopRotate",void 0)},e.prototype.setRotateSelf=function(){this.sendData("CameraApi","SetRotateSelf",void 0)},e.prototype.setRotateFocus=function(){this.sendData("CameraApi","SetRotateFocus",void 0)},e.prototype.getInFirstCharacterMode=function(){this.sendData("CameraApi","GetInFirstCharacterMode",void 0)},e.prototype.getOutFirstCharacterMode=function(){this.sendData("CameraApi","GetOutFirstCharacterMode",void 0)},e.prototype.setFov=function(t,e){return t&&"number"==typeof t.fov?(e&&(t.fn=this.bindFn(e)),void this.sendData("CameraApi","SetFov",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.openMiniMap=function(){this.sendData("MiniMapApi","Show",void 0)},e.prototype.closeMiniMap=function(){this.sendData("MiniMapApi","Hide",void 0)},e.prototype.setMiniMapKeyPoints=function(t){"boolean"!=typeof t.needSyncRotation&&(t.needSyncRotation=!1),this.sendData("MiniMapApi","SetPoints",t)},e.prototype.adjustMiniMapSize=function(t){this.sendData("MiniMapApi","AdjustMapSize",t)},e.prototype.createColorBlock=function(t,e){t.nodes=(0,s["default"])(t.vertices),t.alpha=t.opacity||1,e&&(t.fn=this.bindFn(e)),this.sendData("ColorClampApi","Create",t)},e.prototype.deleteColorBlock=function(t,e){e&&(t.fn=this.bindFn(e)),this.sendData("ColorClampApi","Delete",t)},e.prototype.changeColorBlock=function(t,e){e&&(t.fn=this.bindFn(e)),t.alpha=t.opacity||1,this.sendData("ColorClampApi","ChangeColor",t)},e.prototype.clearColorBlock=function(t){var e={};t&&(e.fn=this.bindFn(t)),this.sendData("ColorClampApi","Clear",e)},e.prototype.startRaycast=function(t){var e={};t&&(e.fn=this.bindFn(t)),this.sendData("CameraApi","StartRaycast",e)},e.prototype.shiftPerspective=function(t){var e={viewDirection:t.viewDirection};this.sendData("CameraApi","ShiftPerspective",e)},e.prototype.endMode=function(){this.sendData("CameraApi","EndMode",void 0)},e.prototype.openFrameSelect=function(){this.sendData("CameraApi","OpenFrameSelectMode",void 0)},e.prototype.closeFrameSelect=function(t){var e={};t&&(e.fn=this.bindFn(t)),this.sendData("CameraApi","CloseFrameSelectMode",e)},e}(g["default"]);e["default"]=_,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(5),s=i(o),r=n(1),a=i(r),u=n(3),h=i(u),l=n(2),d=i(l),f=n(4),c=i(f),p=function(t){function e(){return(0,a["default"])(this,e),(0,h["default"])(this,t.apply(this,arguments))}return(0,d["default"])(e,t),e.prototype.drawPoint=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return t?(t.points&&t.points.length>0&&(t.points=(0,s["default"])(this.infoToArray(t.points))),"boolean"!=typeof t.isMeasure&&(t.isMeasure=!0),"boolean"!=typeof t.isSelect&&(t.isSelect=!1),"boolean"!=typeof t.clampMode&&(t.clampMode=!1),e&&(t.fn=this.bindFn(e)),void this.sendData("DrawsApi","DrawPoint",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.drawLine=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return t?(t.points&&t.points.length>0&&(t.points=(0,s["default"])(this.infoToArray(t.points))),"string"!=typeof t.color&&(t.color="ff0000"),"number"!=typeof t.opacity&&(t.opacity=1),"boolean"!=typeof t.isMeasure&&(t.isMeasure=!1),"boolean"!=typeof t.is2D&&(t.is2D=!1),"boolean"!=typeof t.isSelect&&(t.isSelect=!1),"boolean"!=typeof t.clampMode&&(t.clampMode=!1),"number"!=typeof t.lineWidth&&(t.lineWidth=2),e&&(t.fn=this.bindFn(e)),void this.sendData("DrawsApi","DrawLine",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.drawPolygon=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return t?(t.points&&t.points.length>0&&(t.points=(0,s["default"])(this.infoToArray(t.points))),"string"!=typeof t.color&&(t.color="ff0000"),"number"!=typeof t.opacity&&(t.opacity=1),"boolean"!=typeof t.isMeasure&&(t.isMeasure=!1),"boolean"!=typeof t.is2D&&(t.is2D=!1),"boolean"!=typeof t.isSelect&&(t.isSelect=!1),"boolean"!=typeof t.clampMode&&(t.clampMode=!1),e&&(t.fn=this.bindFn(e)),void this.sendData("DrawsApi","DrawPolygon",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.drawCircle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return t?("number"!=typeof t.segment&&(t.segment=32),"string"!=typeof t.color&&(t.color="ff0000"),"number"!=typeof t.opacity&&(t.opacity=1),"boolean"!=typeof t.isMeasure&&(t.isMeasure=!1),"boolean"!=typeof t.is2D&&(t.is2D=!1),"boolean"!=typeof t.isSelect&&(t.isSelect=!1),"number"!=typeof t.circleRadius&&(t.circleRadius=3),"boolean"!=typeof t.circleCenter&&(t.circleCenter=!1),"boolean"!=typeof t.clampMode&&(t.clampMode=!1),t.circleCenter===!0&&("number"!=typeof t.circleCenterSize&&(t.circleCenterSize=1),"string"!=typeof t.centerColor&&(t.centerColor="ffffff"),t.circleCenterColor=t.centerColor),e&&(t.fn=this.bindFn(e)),void this.sendData("DrawsApi","DrawCircle",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.drawAngle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return t?("string"!=typeof t.color&&(t.color="ff0000"),"number"!=typeof t.opacity&&(t.opacity=1),"boolean"!=typeof t.is2D&&(t.is2D=!1),"boolean"!=typeof t.isSelect&&(t.isSelect=!1),t.isMeasure=!0,e&&(t.fn=this.bindFn(e)),void this.sendData("DrawsApi","DealAngle",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.drawRect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];return t?("string"!=typeof t.color&&(t.color="ff0000"),"number"!=typeof t.opacity&&(t.opacity=1),"boolean"!=typeof t.isMeasure&&(t.isMeasure=!1),"boolean"!=typeof t.is2D&&(t.is2D=!1),"boolean"!=typeof t.isSelect&&(t.isSelect=!1),"boolean"!=typeof t.clampMode&&(t.clampMode=!1),e&&(t.fn=this.bindFn(e)),void this.sendData("DrawsApi","DrawRect",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.drawTriangle=function(t,e){return t?("string"!=typeof t.color&&(t.color="ff0000"),"number"!=typeof t.opacity&&(t.opacity=1),"boolean"!=typeof t.isMeasure&&(t.isMeasure=!1),"boolean"!=typeof t.is2D&&(t.is2D=!1),"boolean"!=typeof t.isSelect&&(t.isSelect=!1),"boolean"!=typeof t.clampMode&&(t.clampMode=!1),e&&(t.fn=this.bindFn(e)),void this.sendData("DrawsApi","DrawTriangle",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.drawFOV=function(t,e){return t?("string"!=typeof t.color&&(t.color="ff0000"),"number"!=typeof t.opacity&&(t.opacity=1),"boolean"!=typeof t.isMeasure&&(t.isMeasure=!1),"boolean"!=typeof t.is2D&&(t.is2D=!1),"boolean"!=typeof t.isSelect&&(t.isSelect=!1),"boolean"!=typeof t.clampMode&&(t.clampMode=!1),e&&(t.fn=this.bindFn(e)),void this.sendData("DrawsApi","DrawFOV",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.drawTongshi=function(t,e){return t?("string"!=typeof t.color&&(t.color="ff0000"),"number"!=typeof t.opacity&&(t.opacity=1),"boolean"!=typeof t.isMeasure&&(t.isMeasure=!1),"boolean"!=typeof t.is2D&&(t.is2D=!1),"boolean"!=typeof t.isSelect&&(t.isSelect=!1),"boolean"!=typeof t.clampMode&&(t.clampMode=!1),e&&(t.fn=this.bindFn(e)),void this.sendData("DrawsApi","DrawTongShi",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.clear=function(t){var e={};t&&(e.fn=this.bindFn(t)),this.sendData("DrawsApi","DrawClear",e)},e.prototype.drawBufferRegion=function(t,e){return t?("number"!=typeof t.radius&&(t.radius=1),"number"!=typeof t.alphaMin&&(t.alphaMin=.1),"number"!=typeof t.alphaMax&&(t.alphaMax=.6),"number"!=typeof t.speed&&(t.speed=.5),"string"!=typeof t.color&&(t.color="ff0000"),e&&(t.fn=this.bindFn(e)),void this.sendData("DrawsApi","DrawBufferRegion",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.clearBufferRegion=function(t){var e={};t&&(e.fn=this.bindFn(t)),this.sendData("DrawsApi","ClearBufferRegion",e)},e}(c["default"]);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(4),d=i(l),f=function(t){function e(){return(0,s["default"])(this,e),(0,a["default"])(this,t.apply(this,arguments))}return(0,h["default"])(e,t),e.prototype.scanOneLine=function(t){return t?("number"!=typeof t.interval&&(t.interval=2),"string"!=typeof t.color&&(t.color="#ffffff"),"number"!=typeof t.opacity&&(t.opacity=1),"number"!=typeof t.speed&&(t.speed=.3),"number"!=typeof t.circleWidth&&(t.circleWidth=.02),"number"!=typeof t.direction&&(t.direction=0),void this.sendData("SceneScanApi","ScanOneLine",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.scanTwoLine=function(t){return t?("number"!=typeof t.interval&&(t.interval=2),"string"!=typeof t.color&&(t.color="#ffffff"),"number"!=typeof t.opacity&&(t.opacity=1),"number"!=typeof t.speed&&(t.speed=.3),"number"!=typeof t.circleWidth&&(t.circleWidth=.02),"number"!=typeof t.direction&&(t.direction=0),void this.sendData("SceneScanApi","ScanTwoLine",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.scanCircle=function(t){return t?("number"!=typeof t.interval&&(t.interval=2),"string"!=typeof t.color&&(t.color="#ffffff"),"number"!=typeof t.opacity&&(t.opacity=1),"number"!=typeof t.speed&&(t.speed=.3),"number"!=typeof t.circleWidth&&(t.circleWidth=.02),"number"!=typeof t.direction&&(t.direction=0),void this.sendData("SceneScanApi","ScanCircle",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.stopScan=function(){this.sendData("SceneScanApi","StopScan",void 0)},e}(d["default"]);e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function o(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var s=n(1),r=o(s),a=n(3),u=o(a),h=n(2),l=o(h),d=n(4),f=o(d),c=n(7),p=i(c),y=function(t){function e(){(0,r["default"])(this,e);var n=(0,u["default"])(this,t.apply(this,arguments));return n.Mouse={Down:p["default"].Mouse.Down,Move:p["default"].Mouse.Move,Rotate:p["default"].Mouse.Rotate,Drag:p["default"].Mouse.Drag,Click:p["default"].Mouse.Click,DragEnd:p["default"].Mouse.DragEnd,RotateEnd:p["default"].Mouse.RotateEnd,RightClick:p["default"].Mouse.RightClick,Wheel:p["default"].Mouse.Wheel,KeyDown:p["default"].Mouse.KeyDown,KeyUp:p["default"].Mouse.KeyUp,MouseScale:p["default"].Mouse.MouseScale,MousePosition:p["default"].Mouse.MousePosition},n.Engine={Resize:p["default"].Engine.Resize,Finish:p["default"].Engine.Finish},n.Mesh={MeshRightClick:p["default"].Mesh.MeshRightClick,MeshCilck:p["default"].Mesh.MeshCilck,MeshUnClick:p["default"].Mesh.MeshUnClick,MeshMove:"MoveModel"},n.Navigate={GetNavigateComplete:p["default"].Navigate.GetNavigateComplete},n}return(0,l["default"])(e,t),e}(f["default"]);e["default"]=y,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(4),d=i(l),f=function(t){function e(){(0,s["default"])(this,e);var n=(0,a["default"])(this,t.apply(this,arguments));return n.pointList=[],n}return(0,h["default"])(e,t),e.prototype.savePoint=function(){var t=this;this.engine.Api.Camera.info(function(e,n){t.pointList.push(n)})},e.prototype.clearPoint=function(){this.pointList=[]},e.prototype.removePoint=function(t){void 0==t?this.pointList.pop():this.pointList.length>t&&this.pointList.splice(t,1)},e.prototype.testFly=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=this.engine.Api.Camera;if(!(this.pointList.length<=e)){var i=JSON.parse(this.pointList[e]);n.flyTo(i.position,i.target,4,function(){t.testFly(e+1)})}},e.prototype.getFlyData=function(){return this.pointList},e}(d["default"]);e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(4),d=i(l),f=n(9),c=i(f),p=function(t){function e(){return(0,s["default"])(this,e),(0,a["default"])(this,t.apply(this,arguments))}return(0,h["default"])(e,t),e.prototype.convertBD=function(t,e,n){var i=n[0]+n[1]*Math.abs(t),o=Math.abs(e)/n[9],s=n[2]+n[3]*o+n[4]*o*o+n[5]*o*o*o+n[6]*o*o*o*o+n[7]*o*o*o*o*o+n[8]*o*o*o*o*o*o;return i*=t<0?-1:1,s*=e<0?-1:1,[i,s]},e.prototype.gcj_encrypt=function(t,e){if(this.outOfChina(t,e))return{lat:t,lon:e};var n=this.delta(t,e);return{lat:t+n.lat,lon:e+n.lon}},e.prototype.outOfChina=function(t,e){return e<72.004||e>137.8347||(t<.8293||t>55.8271)},e.prototype.delta=function(t,e){var n=6378245,i=.006693421622965943,o=this.transformLat(e-105,t-35),s=this.transformLon(e-105,t-35),r=t/180*Math.PI,a=Math.sin(r);a=1-i*a*a;var u=Math.sqrt(a);return o=180*o/(n*(1-i)/(a*u)*Math.PI),s=180*s/(n/u*Math.cos(r)*Math.PI),{lat:o,lon:s}},e.prototype.transformLat=function(t,e){var n=-100+2*t+3*e+.2*e*e+.1*t*e+.2*Math.sqrt(Math.abs(t));return n+=2*(20*Math.sin(6*t*Math.PI)+20*Math.sin(2*t*Math.PI))/3,n+=2*(20*Math.sin(e*Math.PI)+40*Math.sin(e/3*Math.PI))/3,n+=2*(160*Math.sin(e/12*Math.PI)+320*Math.sin(e*Math.PI/30))/3},e.prototype.transformLon=function(t,e){var n=300+t+2*e+.1*t*t+.1*t*e+.1*Math.sqrt(Math.abs(t));return n+=2*(20*Math.sin(6*t*Math.PI)+20*Math.sin(2*t*Math.PI))/3,n+=2*(20*Math.sin(t*Math.PI)+40*Math.sin(t/3*Math.PI))/3,n+=2*(150*Math.sin(t/12*Math.PI)+300*Math.sin(t/30*Math.PI))/3},e.prototype.bd_encrypt=function(t,n){var i=n,o=t,s=Math.sqrt(i*i+o*o)+2e-5*Math.sin(o*e.x_pi),r=Math.atan2(o,i)+3e-6*Math.cos(i*e.x_pi),a=s*Math.cos(r)+.0065,u=s*Math.sin(r)+.006;return{lat:u,lon:a}},e.prototype.gcj_decrypt_exact=function(t,e){for(var n=.01,i=1e-9,o=n,s=n,r=t-o,a=e-s,u=t+o,h=e+s,l=void 0,d=void 0,f=0;;){l=(r+u)/2,d=(a+h)/2;var c=this.gcj_encrypt(l,d);if(o=c.lat-t,s=c.lon-e,Math.abs(o)<i&&Math.abs(s)<i)break;if(o>0?u=l:r=l,s>0?h=d:a=d,++f>1e4)break}return{lat:l,lon:d}},e.prototype.bd_decrypt=function(t,n){var i=n-.0065,o=t-.006,s=Math.sqrt(i*i+o*o)-2e-5*Math.sin(o*e.x_pi),r=Math.atan2(o,i)-3e-6*Math.cos(i*e.x_pi),a=s*Math.cos(r),u=s*Math.sin(r);return{lat:u,lon:a}},e.prototype.mercator_encrypt=function(t,e){var n=20037508.34*e/180,i=Math.log(Math.tan((90+t)*Math.PI/360))/(Math.PI/180);return i=20037508.34*i/180,{lat:i,lon:n}},e.prototype.mercator_decrypt=function(t,e){var n=e/20037508.34*180,i=t/20037508.34*180;return i=180/Math.PI*(2*Math.atan(Math.exp(i*Math.PI/180))-Math.PI/2),{lat:i,lon:n}},e.prototype.bd_mercator=function(t,e){var n=[75,60,45,30,15,0],i=[[-.0015702102444,111320.7020616939,0x60e374c3105a3,-0x24bb4115e2e164,0x5cc55543bb0ae8,-0x7ce070193f3784,0x5e7ca61ddf8150,-0x261a578d8b24d0,0x665d60f3742ca,82.5],[.0008277824516172526,111320.7020463578,647795574.6671607,-4082003173.641316,10774905663.51142,-15171875531.51559,12053065338.62167,-5124939663.577472,913311935.9512032,67.5],[.00337398766765,111320.7020202162,4481351.045890365,-23393751.19931662,79682215.47186455,-115964993.2797253,97236711.15602145,-43661946.33752821,8477230.501135234,52.5],[.00220636496208,111320.7020209128,51751.86112841131,3796837.749470245,992013.7397791013,-1221952.21711287,1340652.697009075,-620943.6990984312,144416.9293806241,37.5],[-.0003441963504368392,111320.7020576856,278.2353980772752,2485758.690035394,6070.750963243378,54821.18345352118,9540.606633304236,-2710.55326746645,1405.483844121726,22.5],[-.0003218135878613132,111320.7020701615,.00369383431289,823725.6402795718,.46104986909093,2351.343141331292,1.58060784298199,8.77738589078284,.37238884252424,7.45]],o=null,s=t>74?74:t;
s=s<-74?-74:s;for(var r=0;r<n.length;r++)if(t>=n[r]){o=i[r];break}if(null==o)for(var a=n.length-1;a>=0;a--)if(t<=-n[a]){o=i[a];break}var u=this.convertBD(e,t,o);return{lon:u[0],lat:u[1]}},e.prototype.mercator_bd=function(t,e){for(var n=[12890594.86,8362377.87,5591021,3481989.83,1678043.12,0],i=[[1.410526172116255e-8,898305509648872e-20,-1.9939833816331,200.9824383106796,-187.2403703815547,91.6087516669843,-23.38765649603339,2.57121317296198,-.03801003308653,17337981.2],[-7.435856389565537e-9,8983055097726239e-21,-.78625201886289,96.32687599759846,-1.85204757529826,-59.36935905485877,47.40033549296737,-16.50741931063887,2.28786674699375,10260144.86],[-3.030883460898826e-8,898305509983578e-20,.30071316287616,59.74293618442277,7.357984074871,-25.38371002664745,13.45380521110908,-3.29883767235584,.32710905363475,6856817.37],[-1.981981304930552e-8,8983055099779535e-21,.03278182852591,40.31678527705744,.65659298677277,-4.44255534477492,.85341911805263,.12923347998204,-.04625736007561,4482777.06],[3.09191371068437e-9,8983055096812155e-21,6995724062e-14,23.10934304144901,-.00023663490511,-.6321817810242,-.00663494467273,.03430082397953,-.00466043876332,2555164.4],[2.890871144776878e-9,8983055095805407e-21,-3.068298e-8,7.47137025468032,-353937994e-14,-.02145144861037,-1234426596e-14,.00010322952773,-323890364e-14,826088.5]],o=null,s={X:Math.abs(e),Y:Math.abs(t)},r=0;r<n.length;r++)if(s.Y>=n[r]){o=i[r];break}var a=this.convertBD(s.X,s.Y,o);return{lon:a[0],lat:a[1]}},e.prototype.distance=function(t,e,n,i){var o=0,s=0,r=c["default"].degToRad(e),a=c["default"].degToRad(i),u=r-a,h=c["default"].degToRad(t)-c["default"].degToRad(n),l=2.27*Math.asin(Math.sqrt(Math.pow(Math.sin(u/2),2)+Math.cos(r)*Math.cos(a)*Math.pow(Math.sin(h/2),2)));l=6378137*l,l=Math.round(1e4*l)/1e4;var d=Math.abs(o-s);return 0!=d&&(l=Math.sqrt(l*l+d*d)),l},e}(d["default"]);e["default"]=p,p.x_pi=3e3*Math.PI/180,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(4),d=i(l),f=function(t){function e(){return(0,s["default"])(this,e),(0,a["default"])(this,t.apply(this,arguments))}return(0,h["default"])(e,t),e.prototype.showFloor=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.engine.Api.MeshInfo.setVisible("Inner",t,i),this.getFloorDevices("Inner",t,function(t,o){var s=o.split(";"),r=[];Array.isArray(n)?r=n:null!=n&&""!=n&&r.push(n),s.forEach(function(t){var n=t.split(":");r.length<1?e.engine.Api.MeshInfo.setVisible(n[0],n[1],i):r.indexOf(n[0])>=0?e.engine.Api.MeshInfo.setVisible(n[0],n[1],i):e.engine.Api.MeshInfo.setVisible(n[0],n[1],!i)})})},e.prototype.info=function(t,e,n){this.getFloorsByBuild("Inner",e,function(t,e){var i=e.split(";"),o=[];i.forEach(function(t){var e=t.split(":");o.push(e[1])}),n&&n(o)})},e.prototype.close=function(t,e){this.open(t,e,!1)},e.prototype.open=function(t,e){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.engine.Api.MeshInfo.setVisible(t,e,!n);var o=this;this.info(t,e,function(t){t.forEach(function(t,e){n?i?0==e?o.showFloor(t,[],n):o.showFloor(t,[],!n):o.showFloor(t,[],n):o.showFloor(t,[],!0)})})},e.prototype.getFloorsByBuild=function(t,e,n){var i={objType:t,objId:e,fn:this.bindFn(n)};this.sendData("InnerApi","GetFloorsByBuild",i)},e.prototype.getFloorDevices=function(t,e,n){var i={objType:t,objId:e,fn:this.bindFn(n)};this.sendData("InnerApi","GetFloorDevices",i)},e}(d["default"]);e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(5),s=i(o),r=n(1),a=i(r),u=n(3),h=i(u),l=n(2),d=i(l),f=n(4),c=i(f),p=function(t){function e(){return(0,a["default"])(this,e),(0,h["default"])(this,t.apply(this,arguments))}return(0,d["default"])(e,t),e.prototype.addLayer=function(t,e){return t?(t.js_type||(t.js_type="Models.Obj"),t.layer_name||(t.layer_name="active"),"boolean"!=typeof t.share&&(t.share=!1),"number"!=typeof t.is_query&&(t.is_query=1),"number"!=typeof t.min_scale&&(t.min_scale=0),"number"!=typeof t.max_scale&&(t.max_scale=1e4),e&&(t.fn=this.bindFn(e)),void this.sendData("LayersApi","AddLayer",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.removeLayer=function(t,e){return t&&t.id?(t.objType=t.id,delete t.id,e&&(t.fn=this.bindFn(e)),void this.sendData("LayersApi","RemoveLayer",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.showLayer=function(t,e){return t&&t.objTypes?(t.objTypes=(0,s["default"])(this.infoToArray(t.objTypes)),"boolean"!=typeof t.show&&(t.show=!0),"number"!=typeof t.showType&&(t.showType=0),"number"!=typeof t.duration&&(t.duration=0),e&&(t.fn=this.bindFn(e)),void this.sendData("LayersApi","ShowLayer",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.setLayerOpacity=function(t){return t&&t.objTypes?(t.objTypes=(0,s["default"])(this.infoToArray(t.objTypes)),"number"!=typeof t.opacity&&(t.opacity=1),void this.sendData("LayersApi","SetLayerOpacity",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.saveLayerData=function(t){return t&&t.objTypes?(t.objTypes=(0,s["default"])(this.infoToArray(t.objTypes)),void this.sendData("LayersApi","SaveLayerData",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.getAllLayers=function(t){return t instanceof Function?void this.sendData("LayersApi","GetAllLayers",this.bindFn(t)):void console.log("\u7f3a\u5c11\u56de\u8c03\u51fd\u6570")},e.prototype.getLayerMeshs=function(t,e){return t&&t.objType&&e instanceof Function?(e&&(t.fn=this.bindFn(e)),void this.sendData("LayersApi","GetLayerMeshs",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.changeMat=function(t,e){return t&&t.objType&&t.key?(e&&(t.fn=this.bindFn(e)),void this.sendData("LayersApi","ChangeMat",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.resetMat=function(t,e){return t&&t.objType?(e&&(t.fn=this.bindFn(e)),void this.sendData("LayersApi","ResetMat",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e}(c["default"]);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(4),d=i(l),f=function(t){function e(){return(0,s["default"])(this,e),(0,a["default"])(this,t.apply(this,arguments))}return(0,h["default"])(e,t),e.prototype.setMenu=function(t){if(!t||!t.objType||!t.html)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");var e=this.engine.getControl("SelectControl");e.menuHelper.addType(t.objType,t.html)},e.prototype.clearMenu=function(){var t=this.engine.getControl("SelectControl");t.menuHelper.removeType()},e.prototype.setObjMenu=function(t){if(!(t&&t.objType&&t.id&&t.html))return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");var e=this.engine.getControl("SelectControl");e.menuHelper.add(t.objType,t.id,t.html)},e}(d["default"]);e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(5),s=i(o),r=n(13),a=i(r),u=n(1),h=i(u),l=n(3),d=i(l),f=n(2),c=i(f),p=n(9),y=i(p),v=n(4),g=i(v),m=n(29),b=i(m),_=function(t){function e(){return(0,h["default"])(this,e),(0,d["default"])(this,t.apply(this,arguments))}return(0,c["default"])(e,t),e.prototype.getTotalPage=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=0,i=t/e;return n=t/e>parseInt(i+"")?parseInt(i+"")+1:parseInt(i+"")},e.prototype.doEdit=function(t,e){if(console.log("EngineWeb3.1"),!t||!t.objType||!t.id)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");"object"===(0,a["default"])(t.userData)&&(t.userData=(0,s["default"])(t.userData)),e&&(t.fn=this.bindFn(e));var n=b["default"].GetCurrentVersionMethodName("doEdit",this.engine.version);n?this.sendData(n[0],n[1],t):this.sendData("MeshInfoApi","DoEdit",t)},e.prototype.setVisible=function(t){if(!t||!t.objType||!t.id)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");"boolean"!=typeof t.visible&&(t.visible=!0);var e=this.infoToArray(t.id);delete t.id;for(var n=50,i=this.getTotalPage(e.length,n),o=0;o<i;o++){var r=o*n,a=(o+1)*n<e.length?(o+1)*n:e.length,u=e.slice(r,a);t.idArray=(0,s["default"])(u),this.sendData("MeshInfoApi","SetVisible",t)}},e.prototype.setChild=function(t){return t&&t.objType&&t.id&&t.child instanceof Array?void this.sendData("MeshInfoApi","SetChild",t):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.resetChildColor=function(t){return t&&t.objType&&t.id&&t.child instanceof Array?void this.sendData("MeshInfoApi","ResetChildColor",t):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.setOpacity=function(t){if(!t||!t.objType||!t.id)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");"number"!=typeof t.opacity&&(t.opacity=1),"number"!=typeof t.speed&&(t.speed=1);var e=this.infoToArray(t.id);delete t.id;for(var n=50,i=this.getTotalPage(e.length,n),o=0;o<i;o++){var r=o*n,a=(o+1)*n<e.length?(o+1)*n:e.length,u=e.slice(r,a);t.idArray=(0,s["default"])(u),this.sendData("MeshInfoApi","SetOpacity",t)}},e.prototype.changeColor=function(t){if(!t||!t.objType||!t.id)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");"number"!=typeof t.alpha&&(t.alpha=-1);var e=this.infoToArray(t.id);delete t.id;for(var n=50,i=this.getTotalPage(e.length,n),o=0;o<i;o++){var r=o*n,a=(o+1)*n<e.length?(o+1)*n:e.length,u=e.slice(r,a);t.idArray=(0,s["default"])(u),this.sendData("MeshInfoApi","ChangeColor",t)}},e.prototype.resetColor=function(t){if(!t||!t.objType||!t.id)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");var e=this.infoToArray(t.id);delete t.id;for(var n=50,i=this.getTotalPage(e.length,n),o=0;o<i;o++){var r=o*n,a=(o+1)*n<e.length?(o+1)*n:e.length,u=e.slice(r,a);t.idArray=(0,s["default"])(u),this.sendData("MeshInfoApi","ResetColor",t)}},e.prototype.getInfo=function(t,e){return t&&e instanceof Function?(e&&(t.fn=this.bindFn(e)),void this.sendData("MeshInfoApi","GetInfo",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.openClickState=function(t){return t&&"number"==typeof t.state?void this.sendData("MeshInfoApi","OpenClickState",t):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.setAlarm=function(t){if(!(t&&t.alarmInfo instanceof Array))return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");for(var e=50,n=this.infoToArray(t.alarmInfo),i=y["default"].getTotalPage(n.length,e),o=0;o<i;o++){var r=o*e,a=(o+1)*e<n.length?(o+1)*e:n.length,u=n.slice(r,a);t.alarmInfo=(0,s["default"])(u),this.sendData("MeshInfoApi","SetMeshAlarm",t)}},e.prototype.clearAlarm=function(t){return t&&t.objType?void this.sendData("MeshInfoApi","ClearMeshAlarm",t):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.getSelectObjects=function(t){if(!(t instanceof Function))return void console.log("\u7f3a\u5c11\u56de\u8c03\u51fd\u6570");var e={fn:this.bindFn(t)};this.sendData("MeshInfoApi","GetSelectObjects",e)},e.prototype.setHighLight=function(t){if(!t||!t.objType||!t.id)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");var e=this.infoToArray(t.id);delete t.id;for(var n=50,i=this.getTotalPage(e.length,n),o=0;o<i;o++){var r=o*n,a=(o+1)*n<e.length?(o+1)*n:e.length,u=e.slice(r,a);t.idArray=(0,s["default"])(u),this.sendData("MeshInfoApi","SetHighLight",t)}},e.prototype.clearHighLight=function(t){if(!t||!t.objType||!t.id)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");var e=this.infoToArray(t.id);delete t.id;for(var n=50,i=this.getTotalPage(e.length,n),o=0;o<i;o++){var r=o*n,a=(o+1)*n<e.length?(o+1)*n:e.length,u=e.slice(r,a);t.idArray=(0,s["default"])(u),this.sendData("MeshInfoApi","ClearHighLight",t)}},e.prototype.showCompass=function(t){return t&&"boolean"==typeof t.state?void this.sendData("MeshInfoApi","ShowCompass",t):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.turnLight=function(t){if(!t||!t.objType||!t.id)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");"boolean"!=typeof t.lightOn&&(t.lightOn=!0);var e=this.infoToArray(t.id);delete t.id;var n=50,i=this.getTotalPage(e.length,n);if(i>0)for(var o=0;o<i;o++){var r=o*n,a=(o+1)*n<e.length?(o+1)*n:e.length,u=e.slice(r,a);t.idArray=(0,s["default"])(u),this.sendData("MeshInfoApi","SetLightOn",t)}else t.idArray=(0,s["default"])(e),this.sendData("MeshInfoApi","SetLightOn",t)},e.prototype.doMeshMove=function(t,e){if(!t||!t.objType||!t.id)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");"object"===(0,a["default"])(t.nodes)&&(t.nodes=(0,s["default"])(t.nodes)),"number"!=typeof t.duration&&(t.duration=5),"boolean"!=typeof t.needDirection&&(t.needDirection=!0),"boolean"!=typeof t.needTerrain&&(t.needTerrain=!1),"boolean"!=typeof t.linear&&(t.linear=!1),e&&(t.fn=this.bindFn(e));var n=b["default"].GetCurrentVersionMethodName("doMeshMove",this.engine.version);n?this.sendData(n[0],n[1],t):this.sendData("MeshInfoApi","DoMeshMove",t)},e.prototype.doMeshMoveByAddNode=function(t,e){if(!t||!t.objType||!t.id)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");"object"===(0,a["default"])(t.nodes)&&(t.nodes=(0,s["default"])(t.nodes)),e&&(t.fn=this.bindFn(e));var n=b["default"].GetCurrentVersionMethodName("DoMeshMoveByAddNode",this.engine.version);n?this.sendData(n[0],n[1],t):this.sendData("MeshInfoApi","DoMeshMoveByAddNode",t)},e.prototype.setMeshMoveState=function(t){if(!t||!t.objType||!t.id)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");"string"!=typeof t.moveState&&(t.moveState="1"),"number"!=typeof t.speed&&(t.speed=1);var e=b["default"].GetCurrentVersionMethodName("setMeshMoveState",this.engine.version);e?this.sendData(e[0],e[1],t):this.sendData("MeshInfoApi","MeshMoveState",t)},e.prototype.doMeshRotation=function(t,e){return t&&t.objType&&t.id&&t.xyz?(e&&(t.fn=this.bindFn(e)),void this.sendData("MeshInfoApi","doRotation",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.setMaterial=function(t,e){return t&&t.objType&&t.id&&t.mtl?(e&&(t.fn=this.bindFn(e)),void this.sendData("MeshInfoApi","SetMaterial",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.setFlash=function(t,e){return t&&t.objType&&t.id?("boolean"!=typeof t.show&&(t.show=!1),t.show&&("string"!=typeof t.color&&(t.color="ff0000"),"number"!=typeof t.interval&&(t.interval=5)),e&&(t.fn=this.bindFn(e)),void this.sendData("MeshInfoApi","SetFlash",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e}(g["default"]);e["default"]=_,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(5),s=i(o),r=n(13),a=i(r),u=n(1),h=i(u),l=n(3),d=i(l),f=n(2),c=i(f),p=n(4),y=i(p),v=n(9),g=i(v),m=function(t){function e(){return(0,h["default"])(this,e),(0,d["default"])(this,t.apply(this,arguments))}return(0,c["default"])(e,t),e.prototype.disassembly=function(t,e){return t&&t.objType&&t.id?("boolean"!=typeof t.motion&&(t.motion=!0),t.items&&t.items.length<0?void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570"):(e&&(t.fn=this.bindFn(e)),void this.sendData("ModelsApi","Disassembly",t))):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.addModel=function(t,e){return t&&t.objType&&t.modelType?("object"===(0,a["default"])(t.userData)&&(t.userData.id||(t.userData.id=g["default"].getUUID(7)),t.userData=(0,s["default"])(t.userData)),"boolean"!=typeof t.ignoreLayerType&&(t.ignoreLayerType=!1),e&&(t.fn=this.bindFn(e)),void this.sendData("ModelsApi","AddModel",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.delModel=function(t,e){return t&&t.objType&&t.id?("boolean"!=typeof t.ignoreLayerType&&(t.ignoreLayerType=!1),e&&(t.fn=this.bindFn(e)),void this.sendData("ModelsApi","DelModel",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.doAction=function(t,e){return t&&"string"==typeof t.objType&&"string"==typeof t.id?("string"!=typeof t.actionName&&(t.actionName="def"),"number"!=typeof t.end&&(t.end=1),"number"!=typeof t.speed&&(t.speed=1),"number"!=typeof t.smooth&&(t.smooth=0),"boolean"!=typeof t.keepPos&&(t.keepPos=!1),"boolean"!=typeof t.isParent&&(t.isParent=!1),e&&(t.fn=this.bindFn(e)),void(0===t.speed?this.sendData("ModelsApi","FbxUndoAction",t):this.sendData("ModelsApi","FbxDoAction",t))):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570---")},e.prototype.doTimeline=function(t,e){return t&&"string"==typeof t.objType&&"string"==typeof t.id?("number"!=typeof t.initialTime&&(t.initialTime=0),"number"!=typeof t.speed&&(t.speed=1),0==t.speed?void console.log("\u901f\u5ea6\u4e0d\u5f97\u4e3a0"):(e&&(t.fn=this.bindFn(e)),void this.sendData("ModelsApi","DoTimeline",t))):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.changeHotMap=function(t,e){return t&&t.objType&&t.id?("number"!=typeof t.opacity&&(t.opacity=1),"boolean"!=typeof t.isUseWeight&&(t.isUseWeight=!1),"number"!=typeof t.radius&&(t.radius=0),e&&(t.fn=this.bindFn(e)),void this.sendData("ModelsApi","ChangeHotMap",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.subsidenceHotMap=function(t,e){return t&&t.source&&t.colors?("number"!=typeof t.opacity&&(t.opacity=1),e&&(t.fn=this.bindFn(e)),void this.sendData("HeatMapApi","SubsidenceHotMap",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.showSubsidence=function(t,e){null!=t.show&&"boolean"==typeof t.show||(t.show=!0),e&&(t.fn=this.bindFn(e)),this.sendData("HeatMapApi","ShowSubsidence",t)},e.prototype.doMove=function(t,e){return t&&t.objType&&t.id?("boolean"!=typeof t.x&&(t.x=!0),"boolean"!=typeof t.y&&(t.y=!0),"boolean"!=typeof t.z&&(t.z=!0),e&&(t.fn=this.bindFn(e)),void this.sendData("GizmoApi","Show",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.stopMove=function(){this.sendData("GizmoApi","Hide",void 0)},e.prototype.saveMove=function(t,e){return t&&t.objType&&t.id?(e&&(t.fn=this.bindFn(e)),void this.sendData("GizmoApi","saveMove",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.doRotation=function(t,e){return t&&t.objType&&t.id?(t.opType=1,"boolean"!=typeof t.x&&(t.x=!0),"boolean"!=typeof t.y&&(t.y=!0),"boolean"!=typeof t.z&&(t.z=!0),e&&(t.fn=this.bindFn(e)),void this.sendData("GizmoApi","Show",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.doAnim=function(t,e){return t&&t.objType?(e&&(t.fn=this.bindFn(e)),void this.sendData("ModelsApi","DoAnim",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.addEffect=function(t,e){return t&&t.id?(t.objType||(t.objType="effect"),e&&(t.fn=this.bindFn(e)),t.color||(t.color="ff0000"),t.title=(0,s["default"])(this.infoToArray(t.title)),void this.sendData("ModelsApi","AddEffect",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.addFlyLine=function(t,e){return t&&t.id?(t.objType||(t.objType="MigrationMap",console.log("\u672a\u8bbe\u7f6eobj_Type:"+t.objType)),t.start_position&&t.end_position?t.width?(e&&(t.fn=this.bindFn(e)),void this.sendData("ModelsApi","AddFlyLine",t)):void console.log("\u672a\u8bbe\u7f6e\u5bbd\u5ea6"):void console.log("\u672a\u8bbe\u7f6e\u8d77\u59cb\u70b9")):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.addOutline=function(t,e){return t&&t.id?(t.objType||(t.objType="Range",console.log("\u672a\u8bbe\u7f6eobj_Type:"+t.objType)),e&&(t.fn=this.bindFn(e)),t.verticalMapWidth&&0!=t.verticalMapWidth||(console.log("ver0"),t.verticalMapWidth=1),t.horizontalMapWidth&&0!=t.horizontalMapWidth||(console.log("hor0"),t.horizontalMapWidth=1),t.path.length<3&&console.log("Path:"+t.path.length),t.animation||(t.animation=!1),t.fill_area||(t.fill_area="none"),void this.sendData("ModelsApi","AddOutline",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.addPathLine=function(t,e){return t&&t.id?(t.objType||(t.objType="PathLine",console.log("\u672a\u8bbe\u7f6eobj_Type:"+t.objType)),e&&(t.fn=this.bindFn(e)),t.path.length<2&&console.log("\u8def\u5f84\u957f\u5ea6\u4e0d\u5f97\u5c0f\u4e8e2,\u5f53\u524d\u957f\u5ea6:"+t.path.length),t.animation||(t.animation=!1),void this.sendData("ModelsApi","AddPathLine",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.addThermodynamicChart=function(t,e){return t&&t.id?(t.objType||(t.objType="SpaceHeatMap",console.log("\u672a\u8bbe\u7f6eobj_Type:"+t.objType)),e&&(t.fn=this.bindFn(e)),!t.min_value||!t.max_value||t.min_value>t.max_value?void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570"):(t.radius||(t.radius=1),void this.sendData("ModelsApi","AddThermodynamicChart",t))):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.adjustGlobalAlpha=function(t,e){return t&&t.alpha?(e&&(t.fn=this.bindFn(e)),void this.sendData("ModelsApi","AdjustGlobalAlpha",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.adjustGlobalColor=function(t,e){return t&&t.color?(e&&(t.fn=this.bindFn(e)),t.alpha||(t.alpha=1),void this.sendData("ModelsApi","AdjustGlobalColor",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.adjustGlobalLight=function(t,e){return t&&t.light?(e&&(t.fn=this.bindFn(e)),void this.sendData("ModelsApi","AdjustGlobalLight",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.adjustGlobalContrast=function(t,e){return t&&t.contrast?(e&&(t.fn=this.bindFn(e)),void this.sendData("ModelsApi","AdjustGlobalContrast",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e}(y["default"]);e["default"]=m,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(4),d=i(l),f=n(37),c=i(f),p=n(7),y=i(p),v=function(t){function e(){return(0,s["default"])(this,e),(0,a["default"])(this,t.apply(this,arguments))}return(0,h["default"])(e,t),e.prototype.enablePan=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dealEvent(y["default"].Mouse.Drag,t)},e.prototype.enableZoom=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dealEvent(y["default"].Mouse.Wheel,t)},e.prototype.enableRotate=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dealEvent(y["default"].Mouse.Rotate,t)},e.prototype.enableClick=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dealEvent(y["default"].Mouse.Click,t)},e.prototype.enableRightClick=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.dealEvent(y["default"].Mouse.RightClick,t)},e.prototype.dealEvent=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.engine.getHandler();n instanceof c["default"]&&n.dealEvent(t,e)},e}(d["default"]);e["default"]=v,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(5),s=i(o),r=n(13),a=i(r),u=n(1),h=i(u),l=n(3),d=i(l),f=n(2),c=i(f),p=n(4),y=i(p),v=function(t){function e(){return(0,h["default"])(this,e),(0,d["default"])(this,t.apply(this,arguments))}return(0,c["default"])(e,t),e.prototype.setMultiPoints=function(t,e){return t?("object"===(0,a["default"])(t.points)&&(t.points=(0,s["default"])(t.points)),e&&(t.fn=this.bindFn(e)),void this.sendData("NavigateApi","SetMultiPoints",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.setStart=function(t){return t?void this.sendData("NavigateApi","SetStart",t.point):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.setEnd=function(t){return t?void this.sendData("NavigateApi","SetEnd",t.point):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.setPause=function(){this.sendData("NavigateApi","SetPause",void 0)},e.prototype.setResume=function(t,e){t||(t={}),"number"!=typeof t.speed&&(t.speed=.75),e&&(t.fn=this.bindFn(e)),this.sendData("NavigateApi","SetResume",t)},e.prototype.setClear=function(t){var e={};t&&(e.fn=this.bindFn(t)),this.sendData("NavigateApi","SetClear",e)},e.prototype.addFilter=function(t,e){return t||t.objType||t.id?(e&&(t.fn=this.bindFn(e)),void this.sendData("NavigateApi","AddFilter",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.delFilter=function(t,e){return t||(t.objType||t.id)&&t.type?(e&&(t.fn=this.bindFn(e)),void this.sendData("NavigateApi","DelFilter",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e}(y["default"]);e["default"]=v,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(4),d=i(l),f=function(t){function e(){return(0,s["default"])(this,e),(0,a["default"])(this,t.apply(this,arguments))}return(0,h["default"])(e,t),e.prototype.generatePos=function(t,e){return t&&t.center&&t.angles&&"number"==typeof t.radius?("number"==typeof t.angles&&(t.angles=[t.angles]),e&&(t.fn=this.bindFn(e)),void this.sendData("PoiApi","GeneratePos",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e}(d["default"]);e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(13),s=i(o),r=n(57),a=i(r),u=n(1),h=i(u),l=n(3),d=i(l),f=n(2),c=i(f),p=n(4),y=i(p),v=n(28),g=i(v),m=function(t){function e(){return(0,h["default"])(this,e),(0,d["default"])(this,t.apply(this,arguments))}return(0,c["default"])(e,t),e.prototype.setPop=function(t,e){if(!t)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");var n=this.engine.getControl("SelectControl");if(t.id instanceof Array){var i=t.fn instanceof Array;for(var o in t.id){var s=(0,a["default"])({},t);if(s.id=t.id[o],i){var r=t.fn[o];delete s.fn,n.popHelper.add(s,r)}else n.popHelper.add(s,e)}}else n.popHelper.add(t,e)},e.prototype.show=function(t){if(!t)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");var e=this.engine.getControl("SelectControl");if(t.id instanceof Array)for(var n in t.id){var i=(0,a["default"])({},t);i.id=t.id[n],e.popHelper.show(i)}else e.popHelper.show(t)},e.prototype.display=function(t){if(!t)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");var e=this.engine.getControl("SelectControl");if(t.id instanceof Array)for(var n in t.id){var i=(0,a["default"])({},t);i.id=t.id[n],e.popHelper.display(i)}else e.popHelper.display(t)},e.prototype.clearPop=function(t){if(!t)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");var e=this.engine.getControl("SelectControl");e.popHelper.removeType(t)},e.prototype.addSpritePop=function(t){return t&&t.objType&&t.id?("string"!=typeof t.parentNode&&"object"!==(0,s["default"])(t.offset)&&(t.offset=new g["default"](0,0,0)),"object"!==(0,s["default"])(t.scale)&&(t.scale=new g["default"](1,1,1)),"object"!==(0,s["default"])(t.rotation)&&(t.rotation=new g["default"](0,0,0)),"number"!=typeof t.delayPauseTime&&(t.delayPauseTime=2),"number"!=typeof t.spriteType&&(t.spriteType=1),"boolean"!=typeof t.needTerrain&&(t.needTerrain=!1),"boolean"!=typeof t.looaAt&&(t.looaAt=!0),void this.sendData("SpriteApi","Create",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.removeSpritePop=function(t){return t&&t.objType&&t.id?void this.sendData("SpriteApi","Remove",t):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.refreshSpritePop=function(t){return t&&t.objType&&t.id?("number"!=typeof t.delayPauseTime&&(t.delayPauseTime=2),void this.sendData("SpriteApi","RefreshSprite",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e}(y["default"]);e["default"]=m,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(4),d=i(l),f=function(t){function e(){return(0,s["default"])(this,e),(0,a["default"])(this,t.apply(this,arguments))}return(0,h["default"])(e,t),e.prototype.changeAsset=function(t){return t?("number"!=typeof t.time&&(t.time=2),void this.sendData("PostProcessApi","ChangeAsset",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e}(d["default"]);e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(4),d=i(l),f=n(9),c=i(f),p=n(7),y=i(p),v=function(t){function e(){return(0,s["default"])(this,e),(0,a["default"])(this,t.apply(this,arguments))}return(0,h["default"])(e,t),e.prototype.dataURLtoBlob=function(t){for(var e=t.split(","),n=e[0].match(/:(.*?);/)[1],i=atob(e[1]),o=i.length,s=new Uint8Array(o);o--;)s[o]=i.charCodeAt(o);return new Blob([s],{type:n})},e.prototype.setSize=function(t){return t&&t.width&&t.height?(t.offsetLeft=this.engine.videoOffSetLeft,t.offsetTop=this.engine.videoOffSetTop,void this.sendData("ScreenApi","SetSize",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.full=function(t){if(!t)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");"boolean"!=typeof t.flag&&(t.flag=!0);var e=document.webkitIsFullScreen;if(!e&&t.flag){var n=document.documentElement;n.requestFullscreen&&n.requestFullscreen()||n.webkitRequestFullscreen&&n.webkitRequestFullscreen()}e&&!t.flag&&(document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():"")},e.prototype.getSessionList=function(t){var e=this.engine.getSocket("ConnSocket");if(!e)return window.customizeMessage?window.customizeMessage("\u5f53\u524d\u65e0\u6cd5\u83b7\u53d6\u8d44\u6e90\u5360\u7528\u6e05\u5355..."):c["default"].warn("\u5f53\u524d\u65e0\u6cd5\u83b7\u53d6\u8d44\u6e90\u5360\u7528\u6e05\u5355..."),void this.engine.fireEvent(y["default"].Engine.CustomizeMessage,"\u5f53\u524d\u65e0\u6cd5\u83b7\u53d6\u8d44\u6e90\u5360\u7528\u6e05\u5355...");var n={code:"SessionList",type:"get",uuid:this.bindFn(t)};e.sendData(n)},e.prototype.closeSession=function(t,e){if(!t)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");var n=this.engine.getSocket("ConnSocket");return n?(t.host&&(t.values=t.host,delete t.host),t.code="Session",t.type="close",t.uuid=this.bindFn(e),void n.sendData(t)):(window.customizeMessage?window.customizeMessage("\u5f53\u524d\u5f3a\u5236\u5254\u9664\u8d44\u6e90\u5360\u7528..."):c["default"].warn("\u5f53\u524d\u5f3a\u5236\u5254\u9664\u8d44\u6e90\u5360\u7528..."),void this.engine.fireEvent(y["default"].Engine.CustomizeMessage,"\u5f53\u524d\u5f3a\u5236\u5254\u9664\u8d44\u6e90\u5360\u7528..."))},e.prototype.keepSession=function(t){return t?void this.sendData("ScreenApi","KeepSession",t):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.print=function(t){if(!t)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");"boolean"!=typeof t.down&&(t.down=!1);var e=this.engine.getControl("ViewControl"),n=document.createElement("canvas");n.width=e.main.width,n.height=e.main.height;var i=n.getContext("2d");if(i.drawImage(e.main,0,0),t.down){var o=document.createElement("a"),s=n.toDataURL("png",4),r=this.dataURLtoBlob(s),a=URL.createObjectURL(r);o.download="photo",o.href=a,o.click()}else{var u=window.open("about:blank");u.document.body.style.margin="0";var h=new Image;h.onload=function(){u.print(),u.close()},u.document.body.appendChild(h),h.src=n.toDataURL()}},e.prototype.photo=function(t){var e=this.engine.getControl("ViewControl"),n=document.createElement("canvas");n.width=e.main.width,n.height=e.main.height;var i=n.getContext("2d");i.drawImage(e.main,0,0),t(n.toDataURL());
},e.prototype.setFramesDelay=function(t){return t&&t.frames?("number"!=typeof t.time&&(t.time=0),void this.sendData("ScreenApi","SetSyncPopFrameCount",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.setPopShowDistance=function(t,e){return t?("number"!=typeof t.dis&&(t.dis=-1),e&&(t.fn=this.bindFn(e)),void this.sendData("ScreenApi","SetPopShowDistance",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.getApiSocket=function(t){if("function"!=typeof t)return void console.log("\u7f3a\u5c11\u56de\u8c03\u51fd\u6570");var e={};t&&(e.fn=this.bindFn(t)),this.sendData("ScreenApi","GetApiSocket",e)},e.prototype.SetAdjustFov=function(t){return t?void this.sendData("ScreenApi","SetAdjustFov",t):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.KeyBoardCanUse=function(t){return t?void this.sendData("ScreenApi","UseKeyBroard",t):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e}(d["default"]);e["default"]=v,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(4),d=i(l),f=n(28),c=i(f),p=n(110),y=i(p),v=n(9),g=i(v),m=n(37),b=i(m),_=n(109),w=i(_),M=n(29),x=i(M),S=function(t){function e(){(0,s["default"])(this,e);var n=(0,a["default"])(this,t.apply(this,arguments));return n.Vector3=c["default"],n.Vector4=y["default"],n.Helper=g["default"],n.DefaultHandler=b["default"],n.KeyHandler=w["default"],n.Utils=x["default"].GetCurrentVersionMethodName,n}return(0,h["default"])(e,t),e}(d["default"]);e["default"]=S,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(28),d=i(l),f=n(4),c=i(f),p=function(t){function e(){return(0,s["default"])(this,e),(0,a["default"])(this,t.apply(this,arguments))}return(0,h["default"])(e,t),e.prototype.play=function(t,e){return t&&t.id?(e&&(t.fn=this.bindFn(e)),void this.sendData("VideoApi","Play",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.play_rtsp=function(t,e){return t&&t.id?(e&&(t.fn=this.bindFn(e)),console.log("\u51c6\u5907\u64ad\u653ertsp"),void this.sendData("VideoApi","PlayRtsp",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.pause=function(t,e){return t&&t.id?(e&&(t.fn=this.bindFn(e)),void this.sendData("VideoApi","Pause",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.pause_rtsp=function(t,e){return t&&t.id?(e&&(t.fn=this.bindFn(e)),void this.sendData("VideoApi","PauseRtsp",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.stop=function(t,e){return t&&t.id?(e&&(t.fn=this.bindFn(e)),void this.sendData("VideoApi","Stop",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.stop_rtsp=function(t,e){return t&&t.id?(e&&(t.fn=this.bindFn(e)),void this.sendData("VideoApi","StopRtsp",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.create_video=function(t,e){return t&&t.objType&&t.id?(t.rotation||(t.rotation=new d["default"](0,0,0)),t.scale||(t.scale=new d["default"](1,1,1)),t.position||(t.position=new d["default"](0,0,0)),"string"!=typeof t.type&&(t.type="VideoSquare"),"string"!=typeof t.url&&(t.url=""),"boolean"!=typeof t.autoplay&&(t.autoplay=!1),"boolean"!=typeof t.loop&&(t.loop=!1),e&&(t.fn=this.bindFn(e)),void this.sendData("VideoApi","Create3DVideo",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e}(c["default"]);e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(4),d=i(l),f=function(t){function e(){return(0,s["default"])(this,e),(0,a["default"])(this,t.apply(this,arguments))}return(0,h["default"])(e,t),e.prototype.realWorldTime=function(t){},e.prototype.dayAndNightLength=function(){},e.prototype.currentTime=function(){},e.prototype.changeWeatherType=function(t){},e.prototype.toDay=function(){},e.prototype.toNight=function(){},e.prototype.changeWeather=function(t,e){return t?("string"==typeof t.open&&(t.open=[t.open]),"string"==typeof t.close&&(t.close=[t.close]),e&&(t.fn=this.bindFn(e)),void this.sendData("WeatherControllerApi","ChangeWeathers",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.setAzureTime=function(t){if(!t)return void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570");if("number"!=typeof t.hour&&(t.hour=8),t.hour>=24&&(t.hour=t.hour%24),t.hour<0&&(t.hour=24- -1*t.hour%24),t.hour+=.5,"number"==typeof t.month&&(t.month>12&&(t.month=t.month%12),t.month<=0&&(t.month=12- -1*t.month%12)),"number"==typeof t.day){if("number"!=typeof t.month)return void console.log("\u8bf7\u8f93\u5165\u6708\u4efd");if("number"!=typeof t.year)return void console.log("\u8bf7\u8f93\u5165\u5e74\u4efd");if(t.day<1)return void console.log("\u65e5\u671f\u4e0d\u5f97\u5c0f\u4e8e0");var e=t.month,n=t.year;switch(e){case 1:case 3:case 5:case 7:case 8:case 10:case 12:if(t.day>31)return void console.log("\u5f53\u6708\u65e5\u671f\u4e0d\u5f97\u8d85\u8fc731\u5929");case 4:case 6:case 9:case 11:if(t.day>30)return void console.log("\u5f53\u6708\u65e5\u671f\u4e0d\u5f97\u8d85\u8fc730\u5929");break;case 2:if(n%4==0){if(t.day>29)return void console.log("\u5f53\u6708\u65e5\u671f\u4e0d\u5f97\u8d85\u8fc729\u5929")}else if(t.day>28)return void console.log("\u5f53\u6708\u65e5\u671f\u4e0d\u5f97\u8d85\u8fc728\u5929");break;default:return void console.log("\u6708\u4efd\u8f93\u5165\u9519\u8bef")}}this.sendData("WeatherControllerApi","SetAzureTime",t)},e.prototype.setAzureWeather=function(t){return t?void this.sendData("WeatherControllerApi","SetAzureWeather",t):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.setGlobalSnow=function(t){return t?void this.sendData("WeatherControllerApi","SetGlobalSnow",t):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e}(d["default"]);e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(4),d=i(l),f=function(t){function e(){return(0,s["default"])(this,e),(0,a["default"])(this,t.apply(this,arguments))}return(0,h["default"])(e,t),e.prototype.setWebView=function(t,e){return t&&t.id?("boolean"!=typeof t.visible&&(t.visible=!0),e&&(t.fn=this.bindFn(e)),void this.sendData("WebViewApi","SetWebView",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e.prototype.executeJS=function(t,e){return t&&t.id&&t.js?(e&&(t.fn=this.bindFn(e)),void this.sendData("WebViewApi","ExecuteJS",t)):void console.log("\u8bf7\u68c0\u67e5\u53c2\u6570")},e}(d["default"]);e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(80);Object.defineProperty(e,"Camera",{enumerable:!0,get:function(){return i(o)["default"]}});var s=n(97);Object.defineProperty(e,"Type",{enumerable:!0,get:function(){return i(s)["default"]}});var r=n(94);Object.defineProperty(e,"Pop",{enumerable:!0,get:function(){return i(r)["default"]}});var a=n(93);Object.defineProperty(e,"Poi",{enumerable:!0,get:function(){return i(a)["default"]}});var u=n(88);Object.defineProperty(e,"Menus",{enumerable:!0,get:function(){return i(u)["default"]}});var h=n(87);Object.defineProperty(e,"Layers",{enumerable:!0,get:function(){return i(h)["default"]}});var l=n(89);Object.defineProperty(e,"MeshInfo",{enumerable:!0,get:function(){return i(l)["default"]}});var d=n(95);Object.defineProperty(e,"PostProcess",{enumerable:!0,get:function(){return i(d)["default"]}});var f=n(96);Object.defineProperty(e,"Screen",{enumerable:!0,get:function(){return i(f)["default"]}});var c=n(90);Object.defineProperty(e,"Models",{enumerable:!0,get:function(){return i(c)["default"]}});var p=n(86);Object.defineProperty(e,"Inner",{enumerable:!0,get:function(){return i(p)["default"]}});var y=n(92);Object.defineProperty(e,"Navigate",{enumerable:!0,get:function(){return i(y)["default"]}});var v=n(85);Object.defineProperty(e,"GPS",{enumerable:!0,get:function(){return i(v)["default"]}});var g=n(81);Object.defineProperty(e,"Draws",{enumerable:!0,get:function(){return i(g)["default"]}});var m=n(91);Object.defineProperty(e,"Mouse",{enumerable:!0,get:function(){return i(m)["default"]}});var b=n(83);Object.defineProperty(e,"Events",{enumerable:!0,get:function(){return i(b)["default"]}});var _=n(84);Object.defineProperty(e,"Fly",{enumerable:!0,get:function(){return i(_)["default"]}});var w=n(99);Object.defineProperty(e,"Weather",{enumerable:!0,get:function(){return i(w)["default"]}});var M=n(82);Object.defineProperty(e,"Effects",{enumerable:!0,get:function(){return i(M)["default"]}});var x=n(98);Object.defineProperty(e,"Video",{enumerable:!0,get:function(){return i(x)["default"]}});var S=n(100);Object.defineProperty(e,"WebView",{enumerable:!0,get:function(){return i(S)["default"]}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(7),a=i(r),u=n(27),h=i(u),l=n(9),d=i(l),f=function(){function t(e){(0,s["default"])(this,t),this.engine=e,this.initComponent()}return t.prototype.doMouseDown=function(t){this.isRightDown=2==t.button,this.isMouseDown=!0,this.isMouseMove=!1,this.isRotate=!1,this.oldPoint=new h["default"](t.clientX,t.clientY),this.engine.fireEvent(a["default"].Mouse.Down,t,this.engine)},t.prototype.doMouseMove=function(t){if(t.target.MapId==this.viewControl.domElementId){if(this.isMouseDown){var e=new h["default"](t.clientX,t.clientY);if(this.isMouseMove=!this.oldPoint.equals(e),!this.isMouseMove)return;this.isRightDown?(this.isRotate=!0,this.engine.fireEvent(a["default"].Mouse.Rotate,t,this.engine)):this.engine.fireEvent(a["default"].Mouse.Drag,t,this.engine)}else this.engine.fireEvent(a["default"].Mouse.Move,t,this.engine);this.engine.getEvents(a["default"].Mouse.MousePosition)&&this.engine.fireEvent(a["default"].Mouse.MouseCoordiate,t,this.engine)}},t.prototype.setMouseUpState=function(t){this.engine.fireEvent(a["default"].Mouse.Up,t,this.engine),this.isMouseDown=!1,this.isRotate=!1},t.prototype.doMouseUp=function(t){"mouseup"==t.type&&(this.engine.fireEvent(a["default"].Mouse.Up,t,this.engine),this.isMouseDown&&(this.isRightDown?this.isRotate?this.engine.fireEvent(a["default"].Mouse.RotateEnd,t,this.engine):this.engine.fireEvent(a["default"].Mouse.RightClick,t,this.engine):this.isMouseMove?this.engine.fireEvent(a["default"].Mouse.DragEnd,t,this.engine):this.engine.fireEvent(a["default"].Mouse.Click,t,this.engine)),this.isMouseDown=!1,this.isRotate=!1)},t.prototype.doMouseWheel=function(t){this.engine.fireEvent(a["default"].Mouse.Wheel,t,this.engine)},t.prototype.doKeyDown=function(t){this.engine.fireEvent(a["default"].Mouse.KeyDown,t,this.engine)},t.prototype.doKeyUp=function(t){this.engine.fireEvent(a["default"].Mouse.KeyUp,t,this.engine)},t.prototype.doKeyReset=function(){this.engine.fireEvent(a["default"].Mouse.KeyResetUp,this.engine)},t.prototype.doContextMenu=function(t){d["default"].stopEvents(t)},t.prototype.doWindowResize=function(t){this.engine.fireEvent(a["default"].Engine.Resize,t,this.engine)},t.prototype.initMouseEvents=function(){this.viewControl.domElement.addEventListener("mousedown",this.doMouseDownFn),this.viewControl.domElement.addEventListener("mousemove",this.doMouseMoveFn),this.viewControl.domElement.addEventListener("mouseup",this.doMouseUpFn),this.viewControl.domElement.addEventListener("mouseout",this.doMouseUpFn),this.viewControl.domElement.addEventListener("wheel",this.doMouseWheelFn),window.addEventListener("resize",this.doWindowResizeFn),window.addEventListener("keydown",this.doKeyDownFn),window.addEventListener("keyup",this.doKeyUpFn),window.addEventListener("blur",this.doKeyReset),window.addEventListener("mouseup",this.doWindowMouseUpFn),this.viewControl.domElement.addEventListener("contextmenu",this.doContextMenu)},t.prototype.initTouchEvents=function(){this.viewControl.domElement.addEventListener("touchstart",this.doTouchStart),this.viewControl.domElement.addEventListener("touchmove",this.doTouchMove),this.viewControl.domElement.addEventListener("touchend",this.doTouchEnd)},t.prototype.touchStart=function(t){t.preventDefault(),this.isMouseDown=!0,this.isRotate=!1,1==t.targetTouches.length?(this.isMouseMove=!1,this.isRightDown=!1,this.touchTime=new Date,this.oldPoint=new h["default"](t.targetTouches[0].clientX,t.targetTouches[0].clientY),this.engine.fireEvent(a["default"].Mouse.Down,t.targetTouches[0],this.engine)):2==t.targetTouches.length&&(t.targetTouches[0].buttons=0,this.oldPoint1=new h["default"](t.targetTouches[0].clientX,t.targetTouches[0].clientY),this.oldPoint2=new h["default"](t.targetTouches[1].clientX,t.targetTouches[1].clientY),this.lineA=this.oldPoint2.y-this.oldPoint1.y,this.lineB=this.oldPoint1.x-this.oldPoint2.x,this.lineC=this.oldPoint2.x*this.oldPoint1.y-this.oldPoint1.x*this.oldPoint2.y,this.initDistance=this.oldPoint1.distanceTo(this.oldPoint2),this.oldCenterPoint=new h["default"]((this.oldPoint1.x+this.oldPoint2.x)/2,(this.oldPoint1.y+this.oldPoint2.y)/2),this.engine.fireEvent(a["default"].Mouse.Down,t.targetTouches[0],this.engine))},t.prototype.touchMove=function(t){if(t.preventDefault(),this.isMouseDown){var e=new h["default"](t.targetTouches[0].clientX,t.targetTouches[0].clientY);if(1==t.targetTouches.length)this.isMouseMove=!0,t.changedTouches[0].movementX=e.x-this.oldPoint.x,t.changedTouches[0].movementY=e.y-this.oldPoint.y,this.engine.fireEvent(a["default"].Mouse.Drag,t.changedTouches[0],this.engine),this.oldPoint=e.clone();else{var n=new h["default"](t.targetTouches[1].clientX,t.targetTouches[1].clientY),i=n.y-e.y,o=e.x-n.x,s=n.x*e.y-e.x*n.y,r=Math.abs(Math.atan((this.lineA*o-i*this.lineB)/(this.lineA*i+this.lineB*o)));this.lineA=i,this.lineB=o,this.lineC=s;var u=e.distanceTo(n),l=u-this.initDistance;if(r<.01){if(Math.abs(l)>5){var d=l>0?80:-80;this.initDistance=u;var f={wheelDelta:d,buttons:0,clientX:this.oldCenterPoint.x,clientY:this.oldCenterPoint.y};this.engine.fireEvent(a["default"].Mouse.Wheel,f,this.engine)}}else t.targetTouches[0].movementX=t.targetTouches[1].clientX-this.oldPoint2.x,t.targetTouches[0].movementY=t.targetTouches[1].clientY-this.oldPoint2.y,this.oldPoint1=e.clone(),this.oldPoint2=n.clone(),this.engine.fireEvent(a["default"].Mouse.Rotate,t.targetTouches[0],this.engine)}}},t.prototype.touchEnd=function(t){t.preventDefault(),this.initDistance=null,this.engine.fireEvent(a["default"].Mouse.Up,t.changedTouches[0],this.engine),this.isMouseDown&&(this.isMouseMove?this.engine.fireEvent(a["default"].Mouse.DragEnd,t.changedTouches[0],this.engine):this.isRotate?this.engine.fireEvent(a["default"].Mouse.RotateEnd,t.changedTouches[0],this.engine):(new Date).getTime()-this.touchTime.getTime()>500?this.engine.fireEvent(a["default"].Mouse.RightClick,t.changedTouches[0],this.engine):this.engine.fireEvent(a["default"].Mouse.Click,t.changedTouches[0],this.engine)),this.isMouseDown=!1,this.isRotate=!1,this.isRightDown=!1},t.prototype.dispose=function(){this.viewControl.domElement.removeEventListener("mousedown",this.doMouseDownFn),this.viewControl.domElement.removeEventListener("mousemove",this.doMouseMoveFn),this.viewControl.domElement.removeEventListener("mouseup",this.doMouseUpFn),this.viewControl.domElement.removeEventListener("mouseout",this.doMouseUpFn),this.viewControl.domElement.removeEventListener("wheel",this.doMouseWheelFn),this.viewControl.domElement.removeEventListener("contextmenu",this.doContextMenu),this.viewControl.domElement.removeEventListener("touchstart",this.doTouchStart),this.viewControl.domElement.removeEventListener("touchmove",this.doTouchMove),this.viewControl.domElement.removeEventListener("touchend",this.doTouchEnd),window.removeEventListener("keydown",this.doKeyDownFn),window.removeEventListener("keyup",this.doKeyUpFn),window.removeEventListener("blur",this.doKeyReset),window.removeEventListener("resize",this.doWindowResizeFn),window.removeEventListener("mouseup",this.doWindowMouseUpFn)},t.prototype.initComponent=function(){this.viewControl=this.engine.getControl("ViewControl"),this.doMouseDownFn=this.doMouseDown.bind(this),this.doMouseMoveFn=this.doMouseMove.bind(this),this.doMouseUpFn=this.doMouseUp.bind(this),this.doWindowMouseUpFn=this.setMouseUpState.bind(this),this.doMouseWheelFn=this.doMouseWheel.bind(this),this.doKeyDownFn=this.doKeyDown.bind(this),this.doKeyUpFn=this.doKeyUp.bind(this),this.doTouchStart=this.touchStart.bind(this),this.doTouchMove=this.touchMove.bind(this),this.doTouchEnd=this.touchEnd.bind(this),this.doWindowResizeFn=this.doWindowResize.bind(this),this.initMouseEvents(),this.initTouchEvents(),this.isRightDown=!1},t}();e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(115),a=i(r),u=n(114),h=i(u),l=function(){function t(e){(0,s["default"])(this,t),this.engine=e,this.initComponent()}return t.prototype.initComponent=function(){this.popHelper=new a["default"](this.engine),this.menuHelper=new h["default"](this.engine)},t.prototype.dispose=function(){this.popHelper.dispose(),this.menuHelper.dispose()},t}();e["default"]=l,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(13),s=i(o),r=n(5),a=i(r),u=n(123),h=i(u),l=n(1),d=i(l),f=n(120),c=i(f),p=n(111),y=i(p),v=n(7),g=i(v),m=n(9),b=i(m),_=n(29),w=i(_),M=function(t,e,n,i){return new(n||(n=c["default"]))(function(o,s){function r(t){try{u(i.next(t))}catch(e){s(e)}}function a(t){try{u(i["throw"](t))}catch(e){s(e)}}function u(t){t.done?o(t.value):new n(function(e){e(t.value)}).then(r,a)}u((i=i.apply(t,e||[])).next())})},x=function(){function t(e){(0,d["default"])(this,t),this.engine=e,this.initMouseEvents(),this.engine.on(g["default"].Engine.ServiceInit,this.serviceInit,this),this.engine.on(g["default"].Engine.CloseSession,this.onCloseSession,this)}return t.prototype.serviceInit=function(t){if(this.warnDiv instanceof HTMLElement&&(document.body.removeChild(this.warnDiv),this.warnDiv=void 0),!t.success)return this.warnDiv=b["default"].warn(t.message,!0),void this.engine.fireEvent(g["default"].Engine.ServiceInitWait,t);if(t.values){if(this.mainType=t.values.type?t.values.type:g["default"].ViewType.WebRTC,this.engine.version=t.values.v?t.values.v:g["default"].Version.v3_0,this.engine.useDataChannel="boolean"==typeof t.values.useDataChannel&&t.values.useDataChannel,this.engine.useDataChannel&&!t.values.id)return b["default"].warn("GIS\u5730\u56fe\u8fd4\u56deUID\u9519\u8bef.."),void this.engine.dispose();if(this.engine.uid=t.values.id,this.mainType===g["default"].ViewType.ImageStream||this.mainType===g["default"].ViewType.WebRTC&&!t.values.useDataChannel){var e=this.engine.getSocket("ConnSocket");e&&e.dispose()}else{var n=this.engine.getSocket("ConnSocket");n&&n.tokenAuthorize(t.values.token)}this.init(t),this.engine.useDataChannel||(this.engine.sockets.ApiSocket=new y["default"](this.engine,t.values.ip,t.values.port,t.values.token))}},t.prototype.init=function(t){this.engine.userData.screenWidth=t.values.w||this.engine.userData.screenWidth||1920,this.engine.userData.screenHeight=t.values.h||this.engine.userData.screenHeight||1080,this.engine.userData.turnServer=t.values.turn||this.engine.userData.turnServer,this.engine.userData.stunServer=t.values.stun||this.engine.userData.stunServer,this.engine.userData.iceUser=t.values.iceUser||this.engine.userData.iceUser,this.engine.userData.icePwd=t.values.icePwd||this.engine.userData.icePwd,this.initView(),this.initEvents()},t.prototype.getSize=function(){var t=this.engine.getScale();return{width:this.main.width/t.w,height:this.main.height/t.h}},t.prototype.initMouseEvents=function(){this.domElement=document.createElement("div"),this.domElementId=b["default"].getUUID(),this.domElement.MapId=this.domElementId,this.domElement.style.cssText="display:inline-block;font-size:0;user-select: none;overflow:hidden;position:relative;"},t.prototype.initView=function(){if(g["default"].ViewType.WebRTC===this.mainType){this.main=document.createElement("video"),this.main.style.cssText="position:absolute;pointer-events:none;user-select: none;",this.main.autoplay=!0,this.main.crossOrigin="*",this.main.muted=!0;var t=this.engine.getScreenSize();this.main.width=t.width,this.main.height=t.height,this.domElement.childElementCount>0&&this.domElement.removeChild(this.domElement.childNodes[0]),this.domElement.appendChild(this.main),this.engine.userData.dom.appendChild(this.domElement)}else g["default"].ViewType.ImageStream===this.mainType&&(this.main=document.createElement("img"),this.main.setAttribute("crossOrigin","*"),this.main.style.cssText="pointer-events:none;user-select: none;",this.domElement.childElementCount>0&&this.domElement.removeChild(this.domElement.childNodes[0]),this.domElement.appendChild(this.main),this.engine.userData.dom.appendChild(this.domElement))},t.prototype.initEvents=function(){g["default"].ViewType.WebRTC===this.mainType?(this.engine.on(g["default"].Engine.Offer,this.createOffer,this),this.engine.on(g["default"].Engine.IceCandidate,this.createIceCandidate,this)):g["default"].ViewType.ImageStream===this.mainType&&this.engine.on(g["default"].Engine.MessageImgURL,this.reloadImg,this)},t.prototype.gotRemoteStream=function(t){this.main.srcObject=t.streams[0],this.engine.useDataChannel||this.engine.fireEvent(g["default"].Engine.Finish,this.engine),this.engine.on(g["default"].Engine.Resize,this.engine.initSize,this.engine),this.engine.initSize()},t.prototype.createIceCandidate=function(t,e){return M(this,void 0,void 0,h["default"].mark(function n(){return h["default"].wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}return t.next=3,this.localPC.addIceCandidate(new RTCIceCandidate(JSON.parse(e)));case 3:case"end":return t.stop()}},n,this)}))},t.prototype.onIceCandidate=function(t){if(t.candidate)if(this.engine.useDataChannel){var e={uuid:"AnswerIceCandidate",method:"AnswerIceCandidate",action:"send",values:(0,a["default"])(t.candidate)};this.engine.sockets.ConnSocket.sendData(e)}else{var n={EventName:"AnswerIceCandidate",Values:(0,a["default"])(t.candidate)};this.engine.sockets.ApiSocket.sendData(n)}},t.prototype.onDataChannel=function(t){var e=this;t&&t.channel&&(this.dataChannel=t.channel,this.dataChannel.onmessage=function(t){return e.onDataChannelMessage(t)},this.dataChannel.onclose=function(){return e.closeSession()},this.engine.useDataChannel&&this.engine.fireEvent(g["default"].Engine.Finish,this.engine),this.onDataChannelInitSize())},t.prototype.onDataChannelMessage=function(t){if(t&&t.data){var e="string"==typeof t.data?JSON.parse(t.data):t.data;this.engine.fireEvent(e.name,e.uuid,e.param)}},t.prototype.createOffer=function(t,e){return M(this,void 0,void 0,h["default"].mark(function n(){var t,i,o,s,r,u,l,d,f=this;return h["default"].wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return t=this.engine.getIceParam(),0==t.length?this.localPC=new RTCPeerConnection:(i={iceServers:[{urls:t.length>3?[t[3],t[0]]:t[0],username:t[1],credential:t[2]}],iceTransportPolicy:"all"},this.localPC=new RTCPeerConnection(i)),this.localPC.onicecandidate=function(t){return f.onIceCandidate(t)},this.localPC.ondatachannel=function(t){return f.onDataChannel(t)},this.localPC.ontrack=function(t){return f.gotRemoteStream(t)},o=JSON.parse(e),o.type="offer",n.next=9,this.localPC.setRemoteDescription(new RTCSessionDescription(o));case 9:return n.next=11,this.localPC.createAnswer();case 11:return s=n.sent,n.next=14,this.localPC.setLocalDescription(s);case 14:r=(0,a["default"])(s),u=JSON.parse(r),u.type=2,this.engine.useDataChannel?(l={uuid:"Answer",method:"Answer",action:"send",values:(0,a["default"])(u)},this.engine.sockets.ConnSocket.sendData(l)):(d={EventName:"Answer",Values:(0,a["default"])(u)},this.engine.sockets.ApiSocket.sendData(d));case 18:case"end":return n.stop()}},n,this)}))},t.prototype.sendData=function(t){if(this.localPC)return this.dataChannel?void(t&&("object"===("undefined"==typeof t?"undefined":(0,s["default"])(t))?this.splitSendData((0,a["default"])(t)):"string"==typeof t&&this.splitSendData(t))):void console.warn("\u5fc5\u987bDataChannel\u6a21\u5f0f\u8c03\u7528..")},t.prototype.splitSendData=function(t){var e=w["default"].StrToBuf(t),n=e.byteLength,i=2e4;if(t.length>i)for(var o=Math.ceil(t.length/i),s=0,r=0;r<o;r++){var a="head:"+n+":"+r+";";if(r!=o){s+=i;var u=a+t.slice(s-i,s);this.dataChannel.send(u),this.waitDataChannelSend(10)}else{var h=a+t.slice(s);this.dataChannel.send(h),this.waitDataChannelSend(10)}}else this.dataChannel.send(e)},t.prototype.waitDataChannelSend=function(t){for(var e=Date.now();Date.now()-e<=t;);},t.prototype.reloadImg=function(t,e){this.engine.userData.EngineIP.indexOf("https:")>-1&&(e=e.replace("http:","https:")),this.engine.userData.ProxyFn&&(e=this.engine.userData.ProxyFn(e)),this.main.src=e+"?uuid="+t,this.engine.initSize();var n=this,i=this.engine.getControl("SelectControl");i&&i.popHelper.dispose(),this.main.onload=function(){n.engine.fireEvent(g["default"].Engine.Finish,n.engine),n.engine.on(g["default"].Engine.Resize,n.engine.initSize,n.engine)}},t.prototype.onDataChannelInitSize=function(){this.engine.base?this.engine.Api.Screen.setSize(this.main.width,this.main.height):this.engine.Api.Screen.setSize({width:this.main.width,height:this.main.height})},t.prototype.onCloseSession=function(){this.closeSession(),!this.engine.useDataChannel&&this.engine.sockets.ApiSocket?(this.engine.sockets.ApiSocket.dispose(),this.engine.userData.notReconnect||this.engine.initSockets()):(this.engine.sockets.ApiSocket.dispose(),this.engine.userData.notReconnect||this.engine.initSockets())},t.prototype.closeSession=function(){g["default"].ViewType.WebRTC===this.mainType&&(this.dataChannel&&(this.dataChannel.close(),this.dataChannel=null),this.localPC&&(this.localPC.close(),this.localPC=null))},t.prototype.dispose=function(){this.domElement.parentElement&&this.domElement.parentElement.removeChild(this.domElement),this.closeSession(),g["default"].ViewType.WebRTC===this.mainType?(this.engine.off(g["default"].Engine.Offer,this.createOffer,this),this.engine.off(g["default"].Engine.Resize,this.engine.initSize,this.engine)):g["default"].ViewType.ImageStream===this.mainType&&(this.engine.off(g["default"].Engine.Connect,this.reloadImg,this),this.engine.off(g["default"].Engine.Resize,this.engine.initSize,this.engine)),this.engine.off(g["default"].Engine.CloseSession,this.onCloseSession,this)},t}();e["default"]=x,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(104);Object.defineProperty(e,"ViewControl",{enumerable:!0,get:function(){return i(o)["default"]}});var s=n(102);Object.defineProperty(e,"MouseControl",{enumerable:!0,get:function(){return i(s)["default"]}});var r=n(103);Object.defineProperty(e,"SelectControl",{enumerable:!0,get:function(){return i(r)["default"]}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=function(){function t(){(0,s["default"])(this,t),this.eventSet={}}return t.prototype.on=function(t,e,n){null==this.eventSet[t]&&(this.eventSet[t]=[]);var i=!0;this.eventSet[t].forEach(function(t){t.fn==e&&t.scope==n&&(i=!1)}),i&&this.eventSet[t].push({fn:e,scope:n})},t.prototype.unshift=function(t,e,n){null==this.eventSet[t]&&(this.eventSet[t]=[]),this.eventSet[t].unshift({fn:e,scope:n})},t.prototype.off=function(t,e,n){if(null!=this.eventSet[t]){for(var i in this.eventSet[t])if(this.eventSet[t][i].fn===e&&this.eventSet[t][i].scope===n){this.eventSet[t].splice(i,1);break}0==this.eventSet[t].length&&delete this.eventSet[t]}},t.prototype.offAllEvents=function(){this.eventSet={}},t.prototype.getEvents=function(t){return this.eventSet[t]},t.prototype.containsKey=function(t){return null!=this.eventSet[t]},t.prototype.fireEvent=function(t){var e=!0;if(!this.eventSet||null==this.eventSet[t])return e;var n=this.eventSet[t];try{for(var i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];for(var r=0;r<n.length;r++)if(n[r].fn.apply(n[r].scope,o)){e=!1;break}}catch(a){console.error(a)}return e},t}();e["default"]=r,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(36),d=i(l),f=function(t){function e(n,i,o,r){(0,s["default"])(this,e);var u=(0,a["default"])(this,t.call(this));return u.point=n,u.helper=o,u.html=i,u.offset=o.engine.getOffset(),u.rightEvent=o.rightEvent,u.geo=r,u.initHtmls(i),u.initEvents(),u}return(0,h["default"])(e,t),e.prototype.initEvents=function(){this.clickFn=this.click.bind(this),this.helper.engine.userData.dom.addEventListener("click",this.clickFn),this.helper.engine.userData.dom.addEventListener("touchstart",this.clickFn)},e.prototype.initHtmls=function(t){this.div=document.createElement("div"),this.div.style.position="absolute",this.div.style.display="none",this.div.style.zIndex="1",this.div.style.fontSize="12px",this.div.appendChild(t)},e.prototype.show=function(){this.div.style.display="block",this.helper.engine.userData.dom.appendChild(this.div),this.initBinds(this.html),this.sysnMenu()},e.prototype.initBinds=function(t){t.event&&(t["on"+t.event.type]=t.event.fn.bind(null,this));for(var e=0;e<t.children.length;e++)this.initBinds(t.children[e])},e.prototype.click=function(){this.dispose()},e.prototype.dispose=function(){this.helper.engine.userData.dom.removeChild(this.div),this.helper.engine.userData.dom.removeEventListener("click",this.clickFn),this.helper.menu=null},e.prototype.sysnMenu=function(){this.helper.engine.userData.dom.appendChild(this.div),this.div.style.left=this.rightEvent.clientX+this.offset.x-this.div.clientWidth/2+"px",this.div.style.top=this.rightEvent.clientY+this.offset.y-this.div.clientHeight+"px",this.div.style.display="block"},e}(d["default"]);e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(3),a=i(r),u=n(2),h=i(u),l=n(36),d=i(l),f=n(9),c=i(f),p=function(t){function e(n,i,o,r){(0,s["default"])(this,e);var u=(0,a["default"])(this,t.call(this));return u.point=n,u.helper=o,u.uuid=r,u.initHtmls(i),u}return(0,h["default"])(e,t),e.prototype.initHtmls=function(t){this.div=document.createElement("div"),this.div.style.position="absolute",this.div.style.left="-9999px",this.div.style.top="-9999px",this.div.style.display="none",this.div.style.zIndex="100",this.div.style.fontSize="12px";var e=this.helper.engine.getControl("MouseControl");this.div.onmousedown=function(t){c["default"].stopEvents(t)},this.div.onmouseup=function(t){e.setMouseUpState(t),c["default"].stopEvents(t)},this.div.onwheel=function(t){t.stopPropagation()},t&&t(this.div,this.uuid);var n=this.helper.engine.getControl("ViewControl");n.domElement.appendChild(this.div)},e.prototype.show=function(t,e){this.div.style.left=t+"px",this.div.style.top=e+"px",this.div.style.display="block"},e.prototype.disible=function(){this.div.style.display="none"},e.prototype.dispose=function(){this.div.onmousedown=void 0,this.div.onmouseup=void 0;var t=this.helper.engine.getControl("ViewControl");t.domElement.contains(this.div)&&t.domElement.removeChild(this.div)},e}(d["default"]);
e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(5),s=i(o),r=n(1),a=i(r),u=n(7),h=i(u),l=n(54),d=i(l),f=n(53),c=i(f),p=function(){function t(e){(0,a["default"])(this,t),this.engine=e,this.eventInfo=[{event:h["default"].Mouse.KeyDown,fn:this.KeyDown},{event:h["default"].Mouse.KeyUp,fn:this.KeyUp},{event:h["default"].Mouse.Rotate,fn:this.rotate},{event:h["default"].Mouse.Wheel,fn:this.wheel},{event:h["default"].Mouse.Down,fn:this.down}],this.eventInfoJson={},this.keyDownCode=[],this.keyInfo=["KeyW","KeyS","KeyA","KeyD","KeyQ","KeyE","KeyF","ShiftLeft"],this.register()}return t.prototype.KeyDown=function(t,e){if(e!=this&&this.keyInfo.includes(t.code)){var n=new c["default"](t,t.code+"Down");n.code=t.keyCode,this.keyDownCode.includes(t.keyCode)||(this.keyDownCode.push(t.keyCode),this.sendData(n))}},t.prototype.KeyUp=function(t,e){if(e!=this&&this.keyInfo.includes(t.code)){var n=new c["default"](t,t.code+"Up");n.code=t.keyCode,this.sendData(n);var i=this.keyDownCode.indexOf(t.keyCode);this.keyDownCode.splice(i,1)}},t.prototype.rotate=function(t,e){if(e!=this){var n=new d["default"](t,"rotate",this.engine.getScale(),this.engine);if(!this.oldMouse||!this.oldMouse.equals(n)){var i=this.engine.getControl("ViewControl");n.y=parseInt(""+(i.getSize().height-n.y)),n.initOffset(this.oldMouse),this.oldMouse=n,this.sendData(n)}}},t.prototype.down=function(t){if(2===t.button){var e=this.engine.getControl("ViewControl"),n=new d["default"](t,"down",this.engine.getScale(),this.engine);n.y=parseInt(""+(e.getSize().height-n.y)),this.sendData(n)}},t.prototype.wheel=function(t,e){if(e!=this){var n=new d["default"](t,"wheel",this.engine.getScale(),this.engine);this.sendData(n)}},t.prototype.dispose=function(){var t=this;this.eventInfo.forEach(function(e){t.engine.off(e.event,e.fn,t)},this)},t.prototype.register=function(){var t=this;this.eventInfo.forEach(function(e){t.engine.on(e.event,e.fn,t),t.eventInfoJson[e.event]=e},this)},t.prototype.sendData=function(t){var e=t instanceof c["default"]?"KeyEvent":"MouseEvent",n={EventName:e,Values:(0,s["default"])(t)},i=this.engine.getSocket("ApiSocket");i&&i.sendData(n)},t}();e["default"]=p,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(5),s=i(o),r=n(1),a=i(r),u=n(9),h=i(u),l=n(55),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:4326;(0,a["default"])(this,t),this.x=e,this.y=n,this.z=i,this.v=o,this.EPSGType=s}return t.prototype.set=function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.v=n,this},t.prototype.setScalar=function(t){return this.x=t,this.y=t,this.z=t,this},t.prototype.setX=function(t){return this.x=t,this},t.prototype.setY=function(t){return this.y=t,this},t.prototype.setZ=function(t){return this.z=t,this},t.prototype.clone=function(){return new t(this.x,this.y,this.z,this.v)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.v=t.v,this},t.prototype.add=function(t,e){return void 0!=e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.v+=t.v,this)},t.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this.z+=t,this.v+=t,this},t.prototype.addVectors=function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.v=t.v+e.v,this},t.prototype.addScaledVector=function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.v+=t.v*e,this},t.prototype.sub=function(t,e){return void 0!=e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.v-=t.v,this)},t.prototype.subScalar=function(t){return this.x-=t,this.y-=t,this.z-=t,this.v-=t,this},t.prototype.subVectors=function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.v=t.v-e.v,this},t.prototype.multiply=function(t,e){return void 0!=e?this.multiplyVectors(t,e):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this.v*=t.v,this)},t.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this.z*=t,this.v*=t,this},t.prototype.multiplyVectors=function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this.v=t.v*e.v,this},t.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.v/=t.v,this},t.prototype.divideScalar=function(t){return this.multiplyScalar(1/t)},t.prototype.min=function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.v=Math.min(this.v,t.v),this},t.prototype.max=function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.v=Math.max(this.v,t.v),this},t.prototype.clamp=function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.v=Math.max(t.v,Math.min(e.v,this.v)),this},t.prototype.clampScalar=function(e,n){var i=new t,o=new t;return i.set(e,e,e,e),o.set(n,n,n,n),this.clamp(i,o)},t.prototype.clampLength=function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},t.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.v=Math.floor(this.v),this},t.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.v=Math.ceil(this.v),this},t.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.v=Math.round(this.v),this},t.prototype.roundToZero=function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.v=this.v<0?Math.ceil(this.v):Math.floor(this.v),this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.v*t.v},t.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.v*this.v},t.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.v*this.v)},t.prototype.manhattanLength=function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.v)},t.prototype.normalize=function(){return this.divideScalar(this.length()||1)},t.prototype.setLength=function(t){return this.normalize().multiplyScalar(t)},t.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.v+=(t.v-this.v)*e,this},t.prototype.lerpVectors=function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},t.prototype.cross=function(t,e){return void 0!=e?this.crossVectors(t,e):this.crossVectors(this,t)},t.prototype.crossVectors=function(t,e){var n=t.x,i=t.y,o=t.z,s=e.x,r=e.y,a=e.z;return this.x=i*a-o*r,this.y=o*s-n*a,this.z=n*r-i*s,this},t.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSquared(t))},t.prototype.distanceToSquared=function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z,o=this.v-t.v;return e*e+n*n+i*i+o*o},t.prototype.equals=function(t){return t.x==this.x&&t.y==this.y&&t.z==this.z&&t.v==this.v},t.prototype.toString=function(){return(0,s["default"])(this)},t.prototype.changeEPSGType=function(t){if(this.EPSGType!=t)return t==l.Const.EPSGType.EPSG84?(this.y=h["default"].WebtoP84_Y(this.y),this.x=h["default"].WebtoP84_X(this.x)):t==l.Const.EPSGType.EPSGWeb?(this.y=h["default"].P84ToWeb_Y(this.y),this.x=h["default"].P84ToWeb_X(this.x)):console.log("\u672a\u77e5\u7c7b\u578b\u8f6c\u6362:"+this.EPSGType+"=>"+t),this.EPSGType=t,this},t}();e["default"]=d,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(5),s=i(o),r=n(1),a=i(r),u=n(7),h=i(u),l=function(){function t(e,n,i,o){(0,a["default"])(this,t),this.sendDataList=[],this.clickTime=0,this.engine=e,this.ip=n,this.port=i,this.token=o,this.initSocket()}return t.prototype.onOpen=function(t){var e=this;this.socket.binaryType="arraybuffer",this.sendDataList.forEach(function(t){e.socket.send((0,s["default"])(t))}),this.sendDataList=[],this.engine.fireEvent(h["default"].Engine.Connect)},t.prototype.onMessage=function(t){var e=JSON.parse(t.data);if(e.name==h["default"].Mesh.MeshCilck){var n=(new Date).getTime();e.name==h["default"].Mesh.MeshCilck&&this.oldUUID==e.uuid&&n-this.clickTime<300?this.engine.fireEvent(h["default"].Mesh.MeshDoubleClick,e.uuid,e.param):this.engine.fireEvent(e.name,e.uuid,e.param),this.oldUUID=e.uuid,this.clickTime=n}else this.engine.fireEvent(e.name,e.uuid,e.param)},t.prototype.sendData=function(t){return this.socket.readyState!=this.socket.OPEN?void this.sendDataList.push(t):void this.socket.send((0,s["default"])(t))},t.prototype.onError=function(){},t.prototype.onClose=function(){var t=this;this.isDispose||(this.dispose(),setTimeout(function(){t.engine.getControl("SelectControl").popHelper.dispose(),t.engine.initSockets()},2e3))},t.prototype.closeSocket=function(){this.socket&&!this.isDispose&&this.socket.close()},t.prototype.initSocket=function(){var t="ws://";this.engine.userData.EngineIP.indexOf("https:")>-1&&(t="wss://");var e=this.engine.getScreenSize();t+=this.ip+":"+this.port+"?token="+this.token+"&size="+e.width+"*"+e.height,this.engine.userData.ProxyFn&&(t=this.engine.userData.ProxyFn(t)),this.socket=new WebSocket(t),this.socket.onopen=this.onOpen.bind(this),this.socket.onmessage=this.onMessage.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onclose=this.onClose.bind(this),this.timer=setInterval(this.initHeartbeat.bind(this),4e4)},t.prototype.initHeartbeat=function(){if(this.socket.readyState==this.socket.OPEN){var t={EventName:"heart"};this.sendData(t)}},t.prototype.dispose=function(){void 0!=this.timer&&(clearInterval(this.timer),this.timer=void 0),this.isDispose=!0,this.socket.close(),delete this.engine.sockets.ApiSocket},t}();e["default"]=l,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(5),s=i(o),r=n(1),a=i(r),u=n(7),h=i(u),l=n(9),d=i(l),f=n(170),c=function(){function t(e){(0,a["default"])(this,t),this.isFirst=!0,this.engine=e,this.initSocket(),this.heart=this.initHeartbeat.bind(this)}return t.prototype.onOpen=function(t){this.socket.binaryType="arraybuffer",console.log("\u5df2\u8fde\u63a5\u670d\u52a1,\u5f85\u5206\u914d\u8d44\u6e90!"),this.askFreeEngine(),this.engine.fireEvent(h["default"].Engine.ServiceConnect)},t.prototype.onMessage=function(t){var e=JSON.parse((0,f.inflate)(t.data,{to:"string"}));e.uuid?e.uuid==h["default"].Engine.Offer||e.uuid==h["default"].Engine.IceCandidate?this.engine.fireEvent(e.uuid,e.uuid,e.values):this.engine.fireEvent(e.uuid,e):this.engine.fireEvent(h["default"].Engine.ServiceInit,e)},t.prototype.askFreeEngine=function(){var t={code:"ServiceInfo",type:"get"};this.sendData(t)},t.prototype.sendData=function(t){return this.socket?void(this.socket.readyState===this.socket.OPEN&&this.socket.send((0,s["default"])(t))):void this.initSocket()},t.prototype.onError=function(){},t.prototype.onClose=function(){},t.prototype.initSocket=function(){var t=this.engine.userData.EngineIP.replace("http","ws"),e=t.substring(t.length-1);"/"!==e&&"\\"!==e||(t=t.substring(0,t.length-1)),t+="/websocket/gisway.ucenter.socket.WebSocket",this.engine.userData.ProxyFn&&(t=this.engine.userData.ProxyFn(t)),this.socket=new WebSocket(t+"/"+this.engine.uuid+"/"+this.engine.userData.key),this.socket.onopen=this.onOpen.bind(this),this.socket.onmessage=this.onMessage.bind(this),this.socket.onerror=this.onError.bind(this),this.socket.onclose=this.onClose.bind(this),this.timer=setInterval(this.heart,9e3),this.isDispose=!1},t.prototype.initHeartbeat=function(){if(this.socket.readyState!=this.socket.OPEN)return void(this.isFirst?(window.customizeMessage?window.customizeMessage("GIS\u5730\u56fe\u94fe\u63a5\u65ad\u5f00"):d["default"].warn("GIS\u5730\u56fe\u94fe\u63a5\u65ad\u5f00"),this.engine.fireEvent(h["default"].Engine.CustomizeMessage,"GIS\u5730\u56fe\u94fe\u63a5\u65ad\u5f00"),this.isFirst=!1):console.error("GIS\u5730\u56fe\u94fe\u63a5\u65ad\u5f00"));this.isFirst=!0;var t={type:"heart"};this.sendData(t)},t.prototype.dispose=function(){void 0!=this.timer&&(clearInterval(this.timer),this.timer=void 0),this.isDispose=!0,this.socket.close(),delete this.engine.sockets.ConnSocket},t.prototype.tokenAuthorize=function(t){if(this.socket){var e={method:"ServiceTokenAuthorize",action:"get",uuid:h["default"].DataChannel.tokenAuthorizeResult,values:(0,s["default"])({token:t})};this.sendData(e)}},t.prototype.closeSocket=function(){this.socket&&!this.isDispose&&this.socket.close()},t}();e["default"]=c,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(112);Object.defineProperty(e,"ConnSocket",{enumerable:!0,get:function(){return i(o)["default"]}})},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(1),s=i(o),r=n(107),a=i(r),u=n(27),h=i(u),l=n(7),d=i(l),f=function(){function t(e){(0,s["default"])(this,t),this.typeList={},this.objIds=[],this.displayMenus=[],this.engine=e,this.initEvents()}return t.prototype.add=function(t,e,n){this.typeList[t]||(this.typeList[t]={}),this.typeList[t][e]={html:n}},t.prototype.addType=function(t,e){this.typeList[t]={html:e}},t.prototype.getTypeMenu=function(t){return this.typeList[t]},t.prototype.show=function(t){this.objIds.push(t),t+=":false"},t.prototype.initMenuObj=function(t,e){var n=this.typeList[t];if(!n)return null;var i=n[e],o=n.html;return i&&(o=i.html),{html:o}},t.prototype.removeType=function(){this.menu&&(this.menu.dispose(),this.menu=null)},t.prototype.dispose=function(){this.menu&&this.menu.dispose(),this.menu=null},t.prototype.initEvents=function(){this.engine.on(d["default"].Mesh.MeshRightClick,this.fireMenu,this),this.engine.on(d["default"].Mouse.RightClick,this.savePosition,this)},t.prototype.savePosition=function(t){this.rightEvent=t},t.prototype.fireMenu=function(t,e){var n=t.split(":"),i=this.initMenuObj(n[0],n[1]);if(i&&i.html){var o=e.split(","),s=new a["default"](this.stringToV2(o),i.html,this,t);this.menu&&this.menu.dispose(),this.menu=s,s.show()}},t.prototype.stringToV2=function(t){return new h["default"](Number(t[0]),Number(t[1]))},t}();e["default"]=f,t.exports=e["default"]},function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=void 0;var o=n(56),s=i(o),r=n(5),a=i(r),u=n(1),h=i(u),l=n(3),d=i(l),f=n(2),c=i(f),p=n(4),y=i(p),v=n(108),g=i(v),m=n(27),b=i(m),_=n(7),w=i(_),M=function(t){function e(n){(0,h["default"])(this,e);var i=(0,d["default"])(this,t.call(this,n));return i.typeList={},i.displayPops={},i.def="VEC_POP",i.initEvents(),i}return(0,c["default"])(e,t),e.prototype.add=function(t,e){void 0==t.objType?(this.typeList[this.def]||(this.typeList[this.def]={}),this.typeList[this.def][t.id]={reject:!!t.reject,position:t.position,fn:e}):void 0==t.id?this.typeList[t.objType]={fn:e}:(this.typeList[t.objType]||(this.typeList[t.objType]={}),this.typeList[t.objType][t.id]={reject:!!t.reject,fn:e})},e.prototype.show=function(t){if(t.objType||this.typeList[this.def]&&this.typeList[this.def][t.id]&&(t.objType=this.def),this.showPop){if(this.showPop.uuid==t.objType+":"+t.id)return;this.showPop.dispose(),this.showPop=null}var e=void 0,n=void 0,i=!1;if(t.objType==this.def){if(!this.typeList[t.objType])return;if(this.typeList[t.objType][t.id]&&(e=this.typeList[t.objType][t.id].fn,n=this.typeList[t.objType][t.id].position,i=this.typeList[t.objType][t.id].reject),void 0==e||void 0==n)return;this.showPop=new g["default"](new b["default"]((-999),(-999)),e,this,t.objType+":"+t.id);var o={uuid:t.objType+":"+t.id,position:n,reject:i};this.sendData("PopApi","Show",(0,a["default"])(o))}else{if(void 0==t.id)this.typeList[t.objType]&&(e=this.typeList[t.objType].fn);else{if(!this.typeList[t.objType])return;this.typeList[t.objType][t.id]?(i=this.typeList[t.objType][t.id].reject,e=this.typeList[t.objType][t.id].fn):e=this.typeList[t.objType].fn}if(void 0==e)return;this.showPop=new g["default"](new b["default"]((-999),(-999)),e,this,t.objType+":"+t.id),this.sendData("PopApi","Show",t.objType+":"+t.id+":"+i)}},e.prototype.click=function(t){t.indexOf(":")==-1&&(t=this.def+":"+t);var e=t.split(":")[0],n=t.split(":")[1],i=this.displayPops[t];i||this.show({objType:e,id:n})},e.prototype.unClick=function(t){t.indexOf(":")==-1&&(t=this.def+":"+t),this.showPop&&this.showPop.uuid==t&&(this.showPop.dispose(),this.showPop=null)},e.prototype.display=function(t){t.objType||this.typeList[this.def]&&this.typeList[this.def][t.id]&&(t.objType=this.def);var e=this.displayPops[t.objType+":"+t.id];if(!e){var n=void 0,i=void 0,o=!1;if(t.objType==this.def){if(!this.typeList[t.objType])return;if(this.typeList[t.objType][t.id]&&(n=this.typeList[t.objType][t.id].fn,i=this.typeList[t.objType][t.id].position,o=this.typeList[t.objType][t.id].reject),void 0==n||void 0==i)return;this.displayPops[t.objType+":"+t.id]=new g["default"](new b["default"]((-999),(-999)),n,this,t.objType+":"+t.id);var s={uuid:t.objType+":"+t.id,position:i,reject:o};this.sendData("PopApi","Show",(0,a["default"])(s))}else{if(void 0==t.id?this.typeList[t.objType]&&(n=this.typeList[t.objType].fn):this.typeList[t.objType][t.id]&&(n=this.typeList[t.objType][t.id].fn,o=this.typeList[t.objType][t.id].reject),void 0==n)return;this.displayPops[t.objType+":"+t.id]=new g["default"](new b["default"]((-999),(-999)),n,this,t.objType+":"+t.id),this.sendData("PopApi","Show",t.objType+":"+t.id+":"+o)}}},e.prototype.removeType=function(t){var e=this;if(t.objType||this.typeList[this.def]&&this.typeList[this.def][t.id]&&(t.objType=this.def),void 0!=t.id){if(this.typeList[t.objType]&&this.typeList[t.objType][t.id]){delete this.typeList[t.objType][t.id];var n=this.displayPops[t.objType+":"+t.id];n&&(n.dispose(),delete this.displayPops[t.objType+":"+t.id]),this.showPop&&this.showPop.uuid==t.objType+":"+t.id&&(this.showPop.dispose(),this.showPop=null),this.sendData("PopApi","ClearPop",t.objType+":"+t.id)}}else delete this.typeList[t.objType],(0,s["default"])(this.displayPops).map(function(n){if(0==n.indexOf(t.objType+":")){var i=e.displayPops[n];i&&(i.dispose(),delete e.displayPops[n],e.sendData("PopApi","ClearPop",n))}}),this.showPop&&0==this.showPop.uuid.indexOf(t.objType+":")&&(this.sendData("PopApi","ClearPop",this.showPop.uuid),this.showPop.dispose(),this.showPop=null)},e.prototype.initEvents=function(){this.engine.on(w["default"].Mesh.PopShow,this.syncPosition,this),this.engine.on(w["default"].Mesh.PopsShow,this.syncPositions,this),this.engine.on(w["default"].Mesh.MeshCilck,this.click,this),this.engine.on(w["default"].Mesh.MeshUnClick,this.unClick,this),this.engine.on(w["default"].Engine.CloseSession,this.closeSession,this)},e.prototype.closeSession=function(){var t=this;(0,s["default"])(this.displayPops).map(function(e){var n=t.displayPops[e];n&&n.dispose()},this),this.showPop&&(this.showPop.dispose(),this.showPop=null)},e.prototype.syncPosition=function(t,e){if(e){var n=e.split(":");if(n){var i=n[0]+":"+n[1],o=this.displayPops[i];if(n.length<3)return this.showPop&&this.showPop.uuid==i&&this.showPop.disible(),void(o&&o.disible());var s=this.engine.getControl("ViewControl"),r=this.engine.getScreen(),a=screen.height<s.domElement.offsetHeight;a&&(r.w=Math.min(screen.availWidth,s.domElement.offsetWidth),r.h=Math.min(screen.height,s.domElement.offsetHeight));var u=parseFloat(n[2]),h=parseFloat(n[3]),l=a?u*r.w:u*r.w+this.engine.videoOffSetLeft,d=a?h*r.h:h*r.h+this.engine.videoOffSetTop;this.showPop&&this.showPop.uuid==i&&this.showPop.show(l,d),o&&this.displayPops[i].show(l,d)}}},e.prototype.syncPositions=function(t,e){var n=e?JSON.parse(e):{};if(n){var i=this,o=this.engine.getControl("ViewControl"),r=this.engine.getScreen(),a=screen.height<o.domElement.offsetHeight;if(a&&(r.w=Math.min(screen.availWidth,o.domElement.offsetWidth),r.h=Math.min(screen.height,o.domElement.offsetHeight)),(0,s["default"])(this.displayPops).map(function(t){var e=n[t];if(e){var o=e.split(":"),s=parseFloat(o[0]),u=parseFloat(o[1]),h=a?s*r.w:s*r.w+i.engine.videoOffSetLeft,l=a?u*r.h:u*r.h+i.engine.videoOffSetTop;i.displayPops[t].show(h,l)}else i.displayPops[t].disible()}),i.showPop){var u=n[i.showPop.uuid];if(u){var h=u.split(":"),l=parseFloat(h[0]),d=parseFloat(h[1]),f=a?l*r.w:l*r.w+i.engine.videoOffSetLeft,c=a?d*r.h:d*r.h+i.engine.videoOffSetTop;i.showPop.show(f,c)}}}},e.prototype.dispose=function(){var t=this;this.showPop&&this.showPop.dispose(),(0,s["default"])(this.displayPops).map(function(e){t.displayPops[e].dispose()}),this.displayPops={},this.showPop=void 0},e}(y["default"]);e["default"]=M,t.exports=e["default"]},function(t,e,n){t.exports={"default":n(124),__esModule:!0}},function(t,e,n){t.exports={"default":n(126),__esModule:!0}},function(t,e,n){t.exports={"default":n(127),__esModule:!0}},function(t,e,n){t.exports={"default":n(129),__esModule:!0}},function(t,e,n){t.exports={"default":n(130),__esModule:!0}},function(t,e,n){t.exports={"default":n(131),__esModule:!0}},function(t,e,n){t.exports={"default":n(132),__esModule:!0}},function(t,e,n){t.exports=n(179)},function(t,e,n){n(51),n(50),t.exports=n(158)},function(t,e,n){var i=n(6),o=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},function(t,e,n){n(160),t.exports=n(6).Object.assign},function(t,e,n){n(161);var i=n(6).Object;t.exports=function(t,e){return i.create(t,e)}},function(t,e,n){n(162),t.exports=n(6).Object.keys},function(t,e,n){n(163),t.exports=n(6).Object.setPrototypeOf},function(t,e,n){n(73),n(50),n(51),n(164),n(166),n(167),t.exports=n(6).Promise},function(t,e,n){n(165),n(73),n(168),n(169),t.exports=n(6).Symbol},function(t,e,n){n(50),n(51),t.exports=n(49).f("iterator")},function(t,e){t.exports=function(){}},function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},function(t,e,n){var i=n(21),o=n(71),s=n(156);t.exports=function(t){return function(e,n,r){var a,u=i(e),h=o(u.length),l=s(r,h);if(t&&n!=n){for(;h>l;)if(a=u[l++],a!=a)return!0}else for(;h>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},function(t,e,n){var i=n(26),o=n(43),s=n(31);t.exports=function(t){var e=i(t),n=o.f;if(n)for(var r,a=n(t),u=s.f,h=0;a.length>h;)u.call(t,r=a[h++])&&e.push(r);return e}},function(t,e,n){var i=n(23),o=n(141),s=n(139),r=n(11),a=n(71),u=n(72),h={},l={},e=t.exports=function(t,e,n,d,f){var c,p,y,v,g=f?function(){return t}:u(t),m=i(n,d,e?2:1),b=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(s(g)){for(c=a(t.length);c>b;b++)if(v=e?m(r(p=t[b])[0],p[1]):m(t[b]),v===h||v===l)return v}else for(y=g.call(t);!(p=y.next()).done;)if(v=o(y,m,p.value,e),v===h||v===l)return v};e.BREAK=h,e.RETURN=l},function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},function(t,e,n){var i=n(24),o=n(10)("iterator"),s=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||s[o]===t)}},function(t,e,n){var i=n(22);t.exports=Array.isArray||function(t){return"Array"==i(t)}},function(t,e,n){var i=n(11);t.exports=function(t,e,n,o){try{return o?e(i(n)[0],n[1]):e(n)}catch(s){var r=t["return"];throw void 0!==r&&i(r.call(t)),s}}},function(t,e,n){"use strict";var i=n(42),o=n(32),s=n(33),r={};n(18)(r,n(10)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(r,{next:o(1,n)}),s(t,e+" Iterator")}},function(t,e,n){var i=n(10)("iterator"),o=!1;try{var s=[7][i]();s["return"]=function(){o=!0},Array.from(s,function(){throw 2})}catch(r){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var s=[7],r=s[i]();r.next=function(){return{done:n=!0}},s[i]=function(){return r},t(s)}catch(a){}return n}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var i=n(35)("meta"),o=n(15),s=n(17),r=n(19).f,a=0,u=Object.isExtensible||function(){return!0},h=!n(20)(function(){return u(Object.preventExtensions({}))}),l=function(t){r(t,i,{value:{i:"O"+ ++a,w:{}}})},d=function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,i)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[i].i},f=function(t,e){if(!s(t,i)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[i].w},c=function(t){return h&&p.NEED&&u(t)&&!s(t,i)&&l(t),t},p=t.exports={KEY:i,NEED:!1,fastKey:d,getWeak:f,onFreeze:c}},function(t,e,n){var i=n(8),o=n(70).set,s=i.MutationObserver||i.WebKitMutationObserver,r=i.process,a=i.Promise,u="process"==n(22)(r);t.exports=function(){var t,e,n,h=function(){var i,o;for(u&&(i=r.domain)&&i.exit();t;){o=t.fn,t=t.next;try{o()}catch(s){throw t?n():e=void 0,s}}e=void 0,i&&i.enter()};if(u)n=function(){r.nextTick(h)};else if(!s||i.navigator&&i.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(h)}}else n=function(){o.call(i,h)};else{var d=!0,f=document.createTextNode("");new s(h).observe(f,{characterData:!0}),n=function(){f.data=d=!d}}return function(i){var o={fn:i,next:void 0};e&&(e.next=o),t||(t=o,n()),e=o}}},function(t,e,n){"use strict";var i=n(14),o=n(26),s=n(43),r=n(31),a=n(34),u=n(61),h=Object.assign;t.exports=!h||n(20)(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=h({},t)[n]||Object.keys(h({},e)).join("")!=i})?function(t,e){for(var n=a(t),h=arguments.length,l=1,d=s.f,f=r.f;h>l;)for(var c,p=u(arguments[l++]),y=d?o(p).concat(d(p)):o(p),v=y.length,g=0;v>g;)c=y[g++],i&&!f.call(p,c)||(n[c]=p[c]);return n}:h},function(t,e,n){var i=n(19),o=n(11),s=n(26);t.exports=n(14)?Object.defineProperties:function(t,e){o(t);for(var n,r=s(e),a=r.length,u=0;a>u;)i.f(t,n=r[u++],e[n]);return t}},function(t,e,n){var i=n(21),o=n(64).f,s={}.toString,r="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return o(t)}catch(e){return r.slice()}};t.exports.f=function(t){return r&&"[object Window]"==s.call(t)?a(t):o(i(t))}},function(t,e,n){var i=n(17),o=n(34),s=n(44)("IE_PROTO"),r=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=o(t),i(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?r:null}},function(t,e,n){var i=n(12),o=n(6),s=n(20);t.exports=function(t,e){var n=(o.Object||{})[t]||Object[t],r={};r[t]=e(n),i(i.S+i.F*s(function(){n(1)}),"Object",r)}},function(t,e,n){var i=n(18);t.exports=function(t,e,n){for(var o in e)n&&t[o]?t[o]=e[o]:i(t,o,e[o]);return t}},function(t,e,n){var i=n(15),o=n(11),s=function(t,e){if(o(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n(23)(Function.call,n(63).f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(o){e=!0}return function(t,n){return s(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:s}},function(t,e,n){"use strict";var i=n(8),o=n(6),s=n(19),r=n(14),a=n(10)("species");t.exports=function(t){var e="function"==typeof o[t]?o[t]:i[t];r&&e&&!e[a]&&s.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,n){var i=n(46),o=n(38);t.exports=function(t){return function(e,n){var s,r,a=String(o(e)),u=i(n),h=a.length;return u<0||u>=h?t?"":void 0:(s=a.charCodeAt(u),s<55296||s>56319||u+1===h||(r=a.charCodeAt(u+1))<56320||r>57343?t?a.charAt(u):s:t?a.slice(u,u+2):(s-55296<<10)+(r-56320)+65536)}}},function(t,e,n){var i=n(46),o=Math.max,s=Math.min;t.exports=function(t,e){return t=i(t),t<0?o(t+e,0):s(t,e)}},function(t,e,n){var i=n(8),o=i.navigator;t.exports=o&&o.userAgent||""},function(t,e,n){var i=n(11),o=n(72);t.exports=n(6).getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return i(e.call(t))}},function(t,e,n){"use strict";var i=n(133),o=n(144),s=n(24),r=n(21);t.exports=n(62)(Array,"Array",function(t,e){this._t=r(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,o(1)):"keys"==e?o(0,n):"values"==e?o(0,t[n]):o(0,[n,t[n]])},"values"),s.Arguments=s.Array,i("keys"),i("values"),i("entries")},function(t,e,n){var i=n(12);i(i.S+i.F,"Object",{assign:n(147)})},function(t,e,n){var i=n(12);i(i.S,"Object",{create:n(42)})},function(t,e,n){var i=n(34),o=n(26);n(151)("keys",function(){return function(t){return o(i(t))}})},function(t,e,n){var i=n(12);i(i.S,"Object",{setPrototypeOf:n(153).set})},function(t,e,n){"use strict";var i,o,s,r,a=n(25),u=n(8),h=n(23),l=n(58),d=n(12),f=n(15),c=n(30),p=n(134),y=n(137),v=n(69),g=n(70).set,m=n(146)(),b=n(41),_=n(66),w=n(157),M=n(67),x="Promise",S=u.TypeError,D=u.process,k=D&&D.versions,C=k&&k.v8||"",T=u[x],E="process"==l(D),P=function(){},A=o=b.f,z=!!function(){try{var t=T.resolve(1),e=(t.constructor={})[n(10)("species")]=function(t){t(P,P)};return(E||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e&&0!==C.indexOf("6.6")&&w.indexOf("Chrome/66")===-1}catch(i){}}(),j=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var n=t._c;m(function(){for(var i=t._v,o=1==t._s,s=0,r=function(e){var n,s,r,a=o?e.ok:e.fail,u=e.resolve,h=e.reject,l=e.domain;try{a?(o||(2==t._h&&I(t),t._h=1),a===!0?n=i:(l&&l.enter(),n=a(i),l&&(l.exit(),r=!0)),n===e.promise?h(S("Promise-chain cycle")):(s=j(n))?s.call(n,u,h):u(n)):h(i)}catch(d){l&&!r&&l.exit(),h(d)}};n.length>s;)r(n[s++]);t._c=[],t._n=!1,e&&!t._h&&F(t)})}},F=function(t){g.call(u,function(){var e,n,i,o=t._v,s=L(t);if(s&&(e=_(function(){E?D.emit("unhandledRejection",o,t):(n=u.onunhandledrejection)?n({promise:t,reason:o}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",o)}),t._h=E||L(t)?2:1),t._a=void 0,s&&e.e)throw e.v})},L=function(t){return 1!==t._h&&0===(t._a||t._c).length},I=function(t){g.call(u,function(){var e;E?D.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},R=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},U=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw S("Promise can't be resolved itself");(e=j(t))?m(function(){var i={_w:n,_d:!1};try{e.call(t,h(U,i,1),h(R,i,1))}catch(o){R.call(i,o)}}):(n._v=t,n._s=1,O(n,!1))}catch(i){R.call({_w:n,_d:!1},i)}}};z||(T=function(t){p(this,T,x,"_h"),c(t),i.call(this);try{t(h(U,this,1),h(R,this,1))}catch(e){R.call(this,e)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n(152)(T.prototype,{then:function(t,e){var n=A(v(this,T));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=E?D.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&O(this,!1),n.promise},"catch":function(t){return this.then(void 0,t)}}),s=function(){var t=new i;this.promise=t,this.resolve=h(U,t,1),this.reject=h(R,t,1)},b.f=A=function(t){return t===T||t===r?new s(t):o(t)}),d(d.G+d.W+d.F*!z,{Promise:T}),n(33)(T,x),n(154)(x),r=n(6)[x],d(d.S+d.F*!z,x,{reject:function(t){var e=A(this),n=e.reject;return n(t),e.promise}}),d(d.S+d.F*(a||!z),x,{resolve:function(t){return M(a&&this===r?T:this,t)}}),d(d.S+d.F*!(z&&n(143)(function(t){
T.all(t)["catch"](P)})),x,{all:function(t){var e=this,n=A(e),i=n.resolve,o=n.reject,s=_(function(){var n=[],s=0,r=1;y(t,!1,function(t){var a=s++,u=!1;n.push(void 0),r++,e.resolve(t).then(function(t){u||(u=!0,n[a]=t,--r||i(n))},o)}),--r||i(n)});return s.e&&o(s.v),n.promise},race:function(t){var e=this,n=A(e),i=n.reject,o=_(function(){y(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return o.e&&i(o.v),n.promise}})},function(t,e,n){"use strict";var i=n(8),o=n(17),s=n(14),r=n(12),a=n(68),u=n(145).KEY,h=n(20),l=n(45),d=n(33),f=n(35),c=n(10),p=n(49),y=n(48),v=n(136),g=n(140),m=n(11),b=n(15),_=n(34),w=n(21),M=n(47),x=n(32),S=n(42),D=n(149),k=n(63),C=n(43),T=n(19),E=n(26),P=k.f,A=T.f,z=D.f,j=i.Symbol,O=i.JSON,F=O&&O.stringify,L="prototype",I=c("_hidden"),R=c("toPrimitive"),U={}.propertyIsEnumerable,V=l("symbol-registry"),N=l("symbols"),W=l("op-symbols"),B=Object[L],K="function"==typeof j&&!!C.f,G=i.QObject,H=!G||!G[L]||!G[L].findChild,Z=s&&h(function(){return 7!=S(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=P(B,e);i&&delete B[e],A(t,e,n),i&&t!==B&&A(B,e,i)}:A,Y=function(t){var e=N[t]=S(j[L]);return e._k=t,e},q=K&&"symbol"==typeof j.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof j},X=function(t,e,n){return t===B&&X(W,e,n),m(t),e=M(e,!0),m(n),o(N,e)?(n.enumerable?(o(t,I)&&t[I][e]&&(t[I][e]=!1),n=S(n,{enumerable:x(0,!1)})):(o(t,I)||A(t,I,x(1,{})),t[I][e]=!0),Z(t,e,n)):A(t,e,n)},J=function(t,e){m(t);for(var n,i=v(e=w(e)),o=0,s=i.length;s>o;)X(t,n=i[o++],e[n]);return t},Q=function(t,e){return void 0===e?S(t):J(S(t),e)},$=function(t){var e=U.call(this,t=M(t,!0));return!(this===B&&o(N,t)&&!o(W,t))&&(!(e||!o(this,t)||!o(N,t)||o(this,I)&&this[I][t])||e)},tt=function(t,e){if(t=w(t),e=M(e,!0),t!==B||!o(N,e)||o(W,e)){var n=P(t,e);return!n||!o(N,e)||o(t,I)&&t[I][e]||(n.enumerable=!0),n}},et=function(t){for(var e,n=z(w(t)),i=[],s=0;n.length>s;)o(N,e=n[s++])||e==I||e==u||i.push(e);return i},nt=function(t){for(var e,n=t===B,i=z(n?W:w(t)),s=[],r=0;i.length>r;)!o(N,e=i[r++])||n&&!o(B,e)||s.push(N[e]);return s};K||(j=function(){if(this instanceof j)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===B&&e.call(W,n),o(this,I)&&o(this[I],t)&&(this[I][t]=!1),Z(this,t,x(1,n))};return s&&H&&Z(B,t,{configurable:!0,set:e}),Y(t)},a(j[L],"toString",function(){return this._k}),k.f=tt,T.f=X,n(64).f=D.f=et,n(31).f=$,C.f=nt,s&&!n(25)&&a(B,"propertyIsEnumerable",$,!0),p.f=function(t){return Y(c(t))}),r(r.G+r.W+r.F*!K,{Symbol:j});for(var it="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ot=0;it.length>ot;)c(it[ot++]);for(var st=E(c.store),rt=0;st.length>rt;)y(st[rt++]);r(r.S+r.F*!K,"Symbol",{"for":function(t){return o(V,t+="")?V[t]:V[t]=j(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in V)if(V[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),r(r.S+r.F*!K,"Object",{create:Q,defineProperty:X,defineProperties:J,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var at=h(function(){C.f(1)});r(r.S+r.F*at,"Object",{getOwnPropertySymbols:function(t){return C.f(_(t))}}),O&&r(r.S+r.F*(!K||h(function(){var t=j();return"[null]"!=F([t])||"{}"!=F({a:t})||"{}"!=F(Object(t))})),"JSON",{stringify:function(t){for(var e,n,i=[t],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=e=i[1],(b(e)||void 0!==t)&&!q(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),i[1]=e,F.apply(O,i)}}),j[L][R]||n(18)(j[L],R,j[L].valueOf),d(j,"Symbol"),d(Math,"Math",!0),d(i.JSON,"JSON",!0)},function(t,e,n){"use strict";var i=n(12),o=n(6),s=n(8),r=n(69),a=n(67);i(i.P+i.R,"Promise",{"finally":function(t){var e=r(this,o.Promise||s.Promise),n="function"==typeof t;return this.then(n?function(n){return a(e,t()).then(function(){return n})}:t,n?function(n){return a(e,t()).then(function(){throw n})}:t)}})},function(t,e,n){"use strict";var i=n(12),o=n(41),s=n(66);i(i.S,"Promise",{"try":function(t){var e=o.f(this),n=s(t);return(n.e?e.reject:e.resolve)(n.v),e.promise}})},function(t,e,n){n(48)("asyncIterator")},function(t,e,n){n(48)("observable")},function(t,e,n){"use strict";var i=n(16).assign,o=n(171),s=n(172),r=n(76),a={};i(a,o,s,r),t.exports=a},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=u.assign({level:m,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:b,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=a.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==y)throw new Error(l[n]);if(e.header&&a.deflateSetHeader(this.strm,e.header),e.dictionary){var o;if(o="string"==typeof e.dictionary?h.string2buf(e.dictionary):"[object ArrayBuffer]"===f.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,n=a.deflateSetDictionary(this.strm,o),n!==y)throw new Error(l[n]);this._dict_set=!0}}function o(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg||l[n.err];return n.result}function s(t,e){return e=e||{},e.raw=!0,o(t,e)}function r(t,e){return e=e||{},e.gzip=!0,o(t,e)}var a=n(173),u=n(16),h=n(74),l=n(52),d=n(78),f=Object.prototype.toString,c=0,p=4,y=0,v=1,g=2,m=-1,b=0,_=8;i.prototype.push=function(t,e){var n,i,o=this.strm,s=this.options.chunkSize;if(this.ended)return!1;i=e===~~e?e:e===!0?p:c,"string"==typeof t?o.input=h.string2buf(t):"[object ArrayBuffer]"===f.call(t)?o.input=new Uint8Array(t):o.input=t,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new u.Buf8(s),o.next_out=0,o.avail_out=s),n=a.deflate(o,i),n!==v&&n!==y)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||i!==p&&i!==g)||("string"===this.options.to?this.onData(h.buf2binstring(u.shrinkBuf(o.output,o.next_out))):this.onData(u.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&n!==v);return i===p?(n=a.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===y):i!==g||(this.onEnd(y),o.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===y&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=u.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=i,e.deflate=o,e.deflateRaw=s,e.gzip=r},function(t,e,n){"use strict";function i(t){if(!(this instanceof i))return new i(t);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==h.Z_OK)throw new Error(l[n]);if(this.header=new f,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=u.string2buf(e.dictionary):"[object ArrayBuffer]"===c.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=r.inflateSetDictionary(this.strm,e.dictionary),n!==h.Z_OK)))throw new Error(l[n])}function o(t,e){var n=new i(e);if(n.push(t,!0),n.err)throw n.msg||l[n.err];return n.result}function s(t,e){return e=e||{},e.raw=!0,o(t,e)}var r=n(176),a=n(16),u=n(74),h=n(76),l=n(52),d=n(78),f=n(174),c=Object.prototype.toString;i.prototype.push=function(t,e){var n,i,o,s,l,d=this.strm,f=this.options.chunkSize,p=this.options.dictionary,y=!1;if(this.ended)return!1;i=e===~~e?e:e===!0?h.Z_FINISH:h.Z_NO_FLUSH,"string"==typeof t?d.input=u.binstring2buf(t):"[object ArrayBuffer]"===c.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new a.Buf8(f),d.next_out=0,d.avail_out=f),n=r.inflate(d,h.Z_NO_FLUSH),n===h.Z_NEED_DICT&&p&&(n=r.inflateSetDictionary(this.strm,p)),n===h.Z_BUF_ERROR&&y===!0&&(n=h.Z_OK,y=!1),n!==h.Z_STREAM_END&&n!==h.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==h.Z_STREAM_END&&(0!==d.avail_in||i!==h.Z_FINISH&&i!==h.Z_SYNC_FLUSH)||("string"===this.options.to?(o=u.utf8border(d.output,d.next_out),s=d.next_out-o,l=u.buf2string(d.output,o),d.next_out=s,d.avail_out=f-s,s&&a.arraySet(d.output,d.output,o,s,0),this.onData(l)):this.onData(a.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(y=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==h.Z_STREAM_END);return n===h.Z_STREAM_END&&(i=h.Z_FINISH),i===h.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===h.Z_OK):i!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),d.avail_out=0,!0)},i.prototype.onData=function(t){this.chunks.push(t)},i.prototype.onEnd=function(t){t===h.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=i,e.inflate=o,e.inflateRaw=s,e.ungzip=o},function(t,e,n){"use strict";function i(t,e){return t.msg=O[e],e}function o(t){return(t<<1)-(t>4?9:0)}function s(t){for(var e=t.length;--e>=0;)t[e]=0}function r(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(P.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function a(t,e){A._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,r(t.strm)}function u(t,e){t.pending_buf[t.pending++]=e}function h(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function l(t,e,n,i){var o=t.avail_in;return o>i&&(o=i),0===o?0:(t.avail_in-=o,P.arraySet(e,t.input,t.next_in,o,n),1===t.state.wrap?t.adler=z(t.adler,e,o,n):2===t.state.wrap&&(t.adler=j(t.adler,e,o,n)),t.next_in+=o,t.total_in+=o,o)}function d(t,e){var n,i,o=t.max_chain_length,s=t.strstart,r=t.prev_length,a=t.nice_match,u=t.strstart>t.w_size-dt?t.strstart-(t.w_size-dt):0,h=t.window,l=t.w_mask,d=t.prev,f=t.strstart+lt,c=h[s+r-1],p=h[s+r];t.prev_length>=t.good_match&&(o>>=2),a>t.lookahead&&(a=t.lookahead);do if(n=e,h[n+r]===p&&h[n+r-1]===c&&h[n]===h[s]&&h[++n]===h[s+1]){s+=2,n++;do;while(h[++s]===h[++n]&&h[++s]===h[++n]&&h[++s]===h[++n]&&h[++s]===h[++n]&&h[++s]===h[++n]&&h[++s]===h[++n]&&h[++s]===h[++n]&&h[++s]===h[++n]&&s<f);if(i=lt-(f-s),s=f-lt,i>r){if(t.match_start=e,r=i,i>=a)break;c=h[s+r-1],p=h[s+r]}}while((e=d[e&l])>u&&0!==--o);return r<=t.lookahead?r:t.lookahead}function f(t){var e,n,i,o,s,r=t.w_size;do{if(o=t.window_size-t.lookahead-t.strstart,t.strstart>=r+(r-dt)){P.arraySet(t.window,t.window,r,r,0),t.match_start-=r,t.strstart-=r,t.block_start-=r,n=t.hash_size,e=n;do i=t.head[--e],t.head[e]=i>=r?i-r:0;while(--n);n=r,e=n;do i=t.prev[--e],t.prev[e]=i>=r?i-r:0;while(--n);o+=r}if(0===t.strm.avail_in)break;if(n=l(t.strm,t.window,t.strstart+t.lookahead,o),t.lookahead+=n,t.lookahead+t.insert>=ht)for(s=t.strstart-t.insert,t.ins_h=t.window[s],t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[s+ht-1])&t.hash_mask,t.prev[s&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=s,s++,t.insert--,!(t.lookahead+t.insert<ht)););}while(t.lookahead<dt&&0!==t.strm.avail_in)}function c(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(f(t),0===t.lookahead&&e===F)return _t;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,a(t,!1),0===t.strm.avail_out))return _t;if(t.strstart-t.block_start>=t.w_size-dt&&(a(t,!1),0===t.strm.avail_out))return _t}return t.insert=0,e===R?(a(t,!0),0===t.strm.avail_out?Mt:xt):t.strstart>t.block_start&&(a(t,!1),0===t.strm.avail_out)?_t:_t}function p(t,e){for(var n,i;;){if(t.lookahead<dt){if(f(t),t.lookahead<dt&&e===F)return _t;if(0===t.lookahead)break}if(n=0,t.lookahead>=ht&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-dt&&(t.match_length=d(t,n)),t.match_length>=ht)if(i=A._tr_tally(t,t.strstart-t.match_start,t.match_length-ht),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=ht){t.match_length--;do t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else i=A._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(a(t,!1),0===t.strm.avail_out))return _t}return t.insert=t.strstart<ht-1?t.strstart:ht-1,e===R?(a(t,!0),0===t.strm.avail_out?Mt:xt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?_t:wt}function y(t,e){for(var n,i,o;;){if(t.lookahead<dt){if(f(t),t.lookahead<dt&&e===F)return _t;if(0===t.lookahead)break}if(n=0,t.lookahead>=ht&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=ht-1,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-dt&&(t.match_length=d(t,n),t.match_length<=5&&(t.strategy===H||t.match_length===ht&&t.strstart-t.match_start>4096)&&(t.match_length=ht-1)),t.prev_length>=ht&&t.match_length<=t.prev_length){o=t.strstart+t.lookahead-ht,i=A._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-ht),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=o&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+ht-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(0!==--t.prev_length);if(t.match_available=0,t.match_length=ht-1,t.strstart++,i&&(a(t,!1),0===t.strm.avail_out))return _t}else if(t.match_available){if(i=A._tr_tally(t,0,t.window[t.strstart-1]),i&&a(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return _t}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=A._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<ht-1?t.strstart:ht-1,e===R?(a(t,!0),0===t.strm.avail_out?Mt:xt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?_t:wt}function v(t,e){for(var n,i,o,s,r=t.window;;){if(t.lookahead<=lt){if(f(t),t.lookahead<=lt&&e===F)return _t;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=ht&&t.strstart>0&&(o=t.strstart-1,i=r[o],i===r[++o]&&i===r[++o]&&i===r[++o])){s=t.strstart+lt;do;while(i===r[++o]&&i===r[++o]&&i===r[++o]&&i===r[++o]&&i===r[++o]&&i===r[++o]&&i===r[++o]&&i===r[++o]&&o<s);t.match_length=lt-(s-o),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=ht?(n=A._tr_tally(t,1,t.match_length-ht),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=A._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(a(t,!1),0===t.strm.avail_out))return _t}return t.insert=0,e===R?(a(t,!0),0===t.strm.avail_out?Mt:xt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?_t:wt}function g(t,e){for(var n;;){if(0===t.lookahead&&(f(t),0===t.lookahead)){if(e===F)return _t;break}if(t.match_length=0,n=A._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(a(t,!1),0===t.strm.avail_out))return _t}return t.insert=0,e===R?(a(t,!0),0===t.strm.avail_out?Mt:xt):t.last_lit&&(a(t,!1),0===t.strm.avail_out)?_t:wt}function m(t,e,n,i,o){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=o}function b(t){t.window_size=2*t.w_size,s(t.head),t.max_lazy_match=E[t.level].max_lazy,t.good_match=E[t.level].good_length,t.nice_match=E[t.level].nice_length,t.max_chain_length=E[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=ht-1,t.match_available=0,t.ins_h=0}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Q,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new P.Buf16(2*at),this.dyn_dtree=new P.Buf16(2*(2*st+1)),this.bl_tree=new P.Buf16(2*(2*rt+1)),s(this.dyn_ltree),s(this.dyn_dtree),s(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new P.Buf16(ut+1),this.heap=new P.Buf16(2*ot+1),s(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new P.Buf16(2*ot+1),s(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function w(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=J,e=t.state,e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?ct:mt,t.adler=2===e.wrap?0:1,e.last_flush=F,A._tr_init(e),V):i(t,W)}function M(t){var e=w(t);return e===V&&b(t.state),e}function x(t,e){return t&&t.state?2!==t.state.wrap?W:(t.state.gzhead=e,V):W}function S(t,e,n,o,s,r){if(!t)return W;var a=1;if(e===G&&(e=6),o<0?(a=0,o=-o):o>15&&(a=2,o-=16),s<1||s>$||n!==Q||o<8||o>15||e<0||e>9||r<0||r>q)return i(t,W);8===o&&(o=9);var u=new _;return t.state=u,u.strm=t,u.wrap=a,u.gzhead=null,u.w_bits=o,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=s+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+ht-1)/ht),u.window=new P.Buf8(2*u.w_size),u.head=new P.Buf16(u.hash_size),u.prev=new P.Buf16(u.w_size),u.lit_bufsize=1<<s+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new P.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=r,u.method=n,M(t)}function D(t,e){return S(t,e,Q,tt,et,X)}function k(t,e){var n,a,l,d;if(!t||!t.state||e>U||e<0)return t?i(t,W):W;if(a=t.state,!t.output||!t.input&&0!==t.avail_in||a.status===bt&&e!==R)return i(t,0===t.avail_out?K:W);if(a.strm=t,n=a.last_flush,a.last_flush=e,a.status===ct)if(2===a.wrap)t.adler=0,u(a,31),u(a,139),u(a,8),a.gzhead?(u(a,(a.gzhead.text?1:0)+(a.gzhead.hcrc?2:0)+(a.gzhead.extra?4:0)+(a.gzhead.name?8:0)+(a.gzhead.comment?16:0)),u(a,255&a.gzhead.time),u(a,a.gzhead.time>>8&255),u(a,a.gzhead.time>>16&255),u(a,a.gzhead.time>>24&255),u(a,9===a.level?2:a.strategy>=Z||a.level<2?4:0),u(a,255&a.gzhead.os),a.gzhead.extra&&a.gzhead.extra.length&&(u(a,255&a.gzhead.extra.length),u(a,a.gzhead.extra.length>>8&255)),a.gzhead.hcrc&&(t.adler=j(t.adler,a.pending_buf,a.pending,0)),a.gzindex=0,a.status=pt):(u(a,0),u(a,0),u(a,0),u(a,0),u(a,0),u(a,9===a.level?2:a.strategy>=Z||a.level<2?4:0),u(a,St),a.status=mt);else{var f=Q+(a.w_bits-8<<4)<<8,c=-1;c=a.strategy>=Z||a.level<2?0:a.level<6?1:6===a.level?2:3,f|=c<<6,0!==a.strstart&&(f|=ft),f+=31-f%31,a.status=mt,h(a,f),0!==a.strstart&&(h(a,t.adler>>>16),h(a,65535&t.adler)),t.adler=1}if(a.status===pt)if(a.gzhead.extra){for(l=a.pending;a.gzindex<(65535&a.gzhead.extra.length)&&(a.pending!==a.pending_buf_size||(a.gzhead.hcrc&&a.pending>l&&(t.adler=j(t.adler,a.pending_buf,a.pending-l,l)),r(t),l=a.pending,a.pending!==a.pending_buf_size));)u(a,255&a.gzhead.extra[a.gzindex]),a.gzindex++;a.gzhead.hcrc&&a.pending>l&&(t.adler=j(t.adler,a.pending_buf,a.pending-l,l)),a.gzindex===a.gzhead.extra.length&&(a.gzindex=0,a.status=yt)}else a.status=yt;if(a.status===yt)if(a.gzhead.name){l=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>l&&(t.adler=j(t.adler,a.pending_buf,a.pending-l,l)),r(t),l=a.pending,a.pending===a.pending_buf_size)){d=1;break}d=a.gzindex<a.gzhead.name.length?255&a.gzhead.name.charCodeAt(a.gzindex++):0,u(a,d)}while(0!==d);a.gzhead.hcrc&&a.pending>l&&(t.adler=j(t.adler,a.pending_buf,a.pending-l,l)),0===d&&(a.gzindex=0,a.status=vt)}else a.status=vt;if(a.status===vt)if(a.gzhead.comment){l=a.pending;do{if(a.pending===a.pending_buf_size&&(a.gzhead.hcrc&&a.pending>l&&(t.adler=j(t.adler,a.pending_buf,a.pending-l,l)),r(t),l=a.pending,a.pending===a.pending_buf_size)){d=1;break}d=a.gzindex<a.gzhead.comment.length?255&a.gzhead.comment.charCodeAt(a.gzindex++):0,u(a,d)}while(0!==d);a.gzhead.hcrc&&a.pending>l&&(t.adler=j(t.adler,a.pending_buf,a.pending-l,l)),0===d&&(a.status=gt)}else a.status=gt;if(a.status===gt&&(a.gzhead.hcrc?(a.pending+2>a.pending_buf_size&&r(t),a.pending+2<=a.pending_buf_size&&(u(a,255&t.adler),u(a,t.adler>>8&255),t.adler=0,a.status=mt)):a.status=mt),0!==a.pending){if(r(t),0===t.avail_out)return a.last_flush=-1,V}else if(0===t.avail_in&&o(e)<=o(n)&&e!==R)return i(t,K);if(a.status===bt&&0!==t.avail_in)return i(t,K);if(0!==t.avail_in||0!==a.lookahead||e!==F&&a.status!==bt){var p=a.strategy===Z?g(a,e):a.strategy===Y?v(a,e):E[a.level].func(a,e);if(p!==Mt&&p!==xt||(a.status=bt),p===_t||p===Mt)return 0===t.avail_out&&(a.last_flush=-1),V;if(p===wt&&(e===L?A._tr_align(a):e!==U&&(A._tr_stored_block(a,0,0,!1),e===I&&(s(a.head),0===a.lookahead&&(a.strstart=0,a.block_start=0,a.insert=0))),r(t),0===t.avail_out))return a.last_flush=-1,V}return e!==R?V:a.wrap<=0?N:(2===a.wrap?(u(a,255&t.adler),u(a,t.adler>>8&255),u(a,t.adler>>16&255),u(a,t.adler>>24&255),u(a,255&t.total_in),u(a,t.total_in>>8&255),u(a,t.total_in>>16&255),u(a,t.total_in>>24&255)):(h(a,t.adler>>>16),h(a,65535&t.adler)),r(t),a.wrap>0&&(a.wrap=-a.wrap),0!==a.pending?V:N)}function C(t){var e;return t&&t.state?(e=t.state.status,e!==ct&&e!==pt&&e!==yt&&e!==vt&&e!==gt&&e!==mt&&e!==bt?i(t,W):(t.state=null,e===mt?i(t,B):V)):W}function T(t,e){var n,i,o,r,a,u,h,l,d=e.length;if(!t||!t.state)return W;if(n=t.state,r=n.wrap,2===r||1===r&&n.status!==ct||n.lookahead)return W;for(1===r&&(t.adler=z(t.adler,e,d,0)),n.wrap=0,d>=n.w_size&&(0===r&&(s(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new P.Buf8(n.w_size),P.arraySet(l,e,d-n.w_size,n.w_size,0),e=l,d=n.w_size),a=t.avail_in,u=t.next_in,h=t.input,t.avail_in=d,t.next_in=0,t.input=e,f(n);n.lookahead>=ht;){i=n.strstart,o=n.lookahead-(ht-1);do n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+ht-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++;while(--o);n.strstart=i,n.lookahead=ht-1,f(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=ht-1,n.match_available=0,t.next_in=u,t.input=h,t.avail_in=a,n.wrap=r,V}var E,P=n(16),A=n(178),z=n(75),j=n(77),O=n(52),F=0,L=1,I=3,R=4,U=5,V=0,N=1,W=-2,B=-3,K=-5,G=-1,H=1,Z=2,Y=3,q=4,X=0,J=2,Q=8,$=9,tt=15,et=8,nt=29,it=256,ot=it+1+nt,st=30,rt=19,at=2*ot+1,ut=15,ht=3,lt=258,dt=lt+ht+1,ft=32,ct=42,pt=69,yt=73,vt=91,gt=103,mt=113,bt=666,_t=1,wt=2,Mt=3,xt=4,St=3;E=[new m(0,0,0,0,c),new m(4,4,8,4,p),new m(4,5,16,8,p),new m(4,6,32,32,p),new m(4,4,16,16,y),new m(8,16,32,32,y),new m(8,16,128,128,y),new m(8,32,128,256,y),new m(32,128,258,1024,y),new m(32,258,258,4096,y)],e.deflateInit=D,e.deflateInit2=S,e.deflateReset=M,e.deflateResetKeep=w,e.deflateSetHeader=x,e.deflate=k,e.deflateEnd=C,e.deflateSetDictionary=T,e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e){"use strict";function n(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}t.exports=n},function(t,e){"use strict";var n=30,i=12;t.exports=function(t,e){var o,s,r,a,u,h,l,d,f,c,p,y,v,g,m,b,_,w,M,x,S,D,k,C,T;o=t.state,s=t.next_in,C=t.input,r=s+(t.avail_in-5),a=t.next_out,T=t.output,u=a-(e-t.avail_out),h=a+(t.avail_out-257),l=o.dmax,d=o.wsize,f=o.whave,c=o.wnext,p=o.window,y=o.hold,v=o.bits,g=o.lencode,m=o.distcode,b=(1<<o.lenbits)-1,_=(1<<o.distbits)-1;t:do{v<15&&(y+=C[s++]<<v,v+=8,y+=C[s++]<<v,v+=8),w=g[y&b];e:for(;;){if(M=w>>>24,y>>>=M,v-=M,M=w>>>16&255,0===M)T[a++]=65535&w;else{if(!(16&M)){if(0===(64&M)){w=g[(65535&w)+(y&(1<<M)-1)];continue e}if(32&M){o.mode=i;break t}t.msg="invalid literal/length code",o.mode=n;break t}x=65535&w,M&=15,M&&(v<M&&(y+=C[s++]<<v,v+=8),x+=y&(1<<M)-1,y>>>=M,v-=M),v<15&&(y+=C[s++]<<v,v+=8,y+=C[s++]<<v,v+=8),w=m[y&_];n:for(;;){if(M=w>>>24,y>>>=M,v-=M,M=w>>>16&255,!(16&M)){if(0===(64&M)){w=m[(65535&w)+(y&(1<<M)-1)];continue n}t.msg="invalid distance code",o.mode=n;break t}if(S=65535&w,M&=15,v<M&&(y+=C[s++]<<v,v+=8,v<M&&(y+=C[s++]<<v,v+=8)),S+=y&(1<<M)-1,S>l){t.msg="invalid distance too far back",o.mode=n;break t}if(y>>>=M,v-=M,M=a-u,S>M){if(M=S-M,M>f&&o.sane){t.msg="invalid distance too far back",o.mode=n;break t}if(D=0,k=p,0===c){if(D+=d-M,M<x){x-=M;do T[a++]=p[D++];while(--M);D=a-S,k=T}}else if(c<M){if(D+=d+c-M,M-=c,M<x){x-=M;do T[a++]=p[D++];while(--M);if(D=0,c<x){M=c,x-=M;do T[a++]=p[D++];while(--M);D=a-S,k=T}}}else if(D+=c-M,M<x){x-=M;do T[a++]=p[D++];while(--M);D=a-S,k=T}for(;x>2;)T[a++]=k[D++],T[a++]=k[D++],T[a++]=k[D++],x-=3;x&&(T[a++]=k[D++],x>1&&(T[a++]=k[D++]))}else{D=a-S;do T[a++]=T[D++],T[a++]=T[D++],T[a++]=T[D++],x-=3;while(x>2);x&&(T[a++]=T[D++],x>1&&(T[a++]=T[D++]))}break}}break}}while(s<r&&a<h);x=v>>3,s-=x,v-=x<<3,y&=(1<<v)-1,t.next_in=s,t.next_out=a,t.avail_in=s<r?5+(r-s):5-(s-r),t.avail_out=a<h?257+(h-a):257-(a-h),o.hold=y,o.bits=v}},function(t,e,n){"use strict";function i(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function o(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function s(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=I,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new m.Buf32(yt),e.distcode=e.distdyn=new m.Buf32(vt),e.sane=1,e.back=-1,E):z}function r(t){var e;return t&&t.state?(e=t.state,e.wsize=0,e.whave=0,e.wnext=0,s(t)):z}function a(t,e){var n,i;return t&&t.state?(i=t.state,e<0?(n=0,e=-e):(n=(e>>4)+1,e<48&&(e&=15)),e&&(e<8||e>15)?z:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,r(t))):z}function u(t,e){var n,i;return t?(i=new o,t.state=i,i.window=null,n=a(t,e),n!==E&&(t.state=null),n):z}function h(t){return u(t,mt)}function l(t){if(bt){var e;for(v=new m.Buf32(512),g=new m.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(M(S,t.lens,0,288,v,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;M(D,t.lens,0,32,g,0,t.work,{bits:5}),bt=!1}t.lencode=v,t.lenbits=9,t.distcode=g,t.distbits=5}function d(t,e,n,i){var o,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new m.Buf8(s.wsize)),i>=s.wsize?(m.arraySet(s.window,e,n-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):(o=s.wsize-s.wnext,o>i&&(o=i),m.arraySet(s.window,e,n-i,o,s.wnext),i-=o,i?(m.arraySet(s.window,e,n-i,i,0),s.wnext=i,s.whave=s.wsize):(s.wnext+=o,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=o))),0}function f(t,e){var n,o,s,r,a,u,h,f,c,p,y,v,g,yt,vt,gt,mt,bt,_t,wt,Mt,xt,St,Dt,kt=0,Ct=new m.Buf8(4),Tt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return z;n=t.state,n.mode===Y&&(n.mode=q),a=t.next_out,s=t.output,h=t.avail_out,r=t.next_in,o=t.input,u=t.avail_in,f=n.hold,c=n.bits,p=u,y=h,xt=E;t:for(;;)switch(n.mode){case I:if(0===n.wrap){n.mode=q;break}for(;c<16;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}if(2&n.wrap&&35615===f){n.check=0,Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=_(n.check,Ct,2,0),f=0,c=0,n.mode=R;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&f)<<8)+(f>>8))%31){t.msg="incorrect header check",n.mode=ft;break}if((15&f)!==L){t.msg="unknown compression method",n.mode=ft;break}if(f>>>=4,c-=4,Mt=(15&f)+8,0===n.wbits)n.wbits=Mt;else if(Mt>n.wbits){t.msg="invalid window size",n.mode=ft;break}n.dmax=1<<Mt,t.adler=n.check=1,n.mode=512&f?H:Y,f=0,c=0;break;case R:for(;c<16;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}if(n.flags=f,(255&n.flags)!==L){t.msg="unknown compression method",n.mode=ft;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=ft;break}n.head&&(n.head.text=f>>8&1),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=_(n.check,Ct,2,0)),f=0,c=0,n.mode=U;case U:for(;c<32;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}n.head&&(n.head.time=f),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,Ct[2]=f>>>16&255,Ct[3]=f>>>24&255,n.check=_(n.check,Ct,4,0)),f=0,c=0,n.mode=V;case V:for(;c<16;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}n.head&&(n.head.xflags=255&f,n.head.os=f>>8),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=_(n.check,Ct,2,0)),f=0,c=0,n.mode=N;case N:if(1024&n.flags){for(;c<16;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}n.length=f,n.head&&(n.head.extra_len=f),512&n.flags&&(Ct[0]=255&f,Ct[1]=f>>>8&255,n.check=_(n.check,Ct,2,0)),f=0,c=0}else n.head&&(n.head.extra=null);n.mode=W;case W:if(1024&n.flags&&(v=n.length,v>u&&(v=u),v&&(n.head&&(Mt=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),m.arraySet(n.head.extra,o,r,v,Mt)),512&n.flags&&(n.check=_(n.check,o,v,r)),u-=v,r+=v,n.length-=v),n.length))break t;n.length=0,n.mode=B;case B:if(2048&n.flags){if(0===u)break t;v=0;do Mt=o[r+v++],n.head&&Mt&&n.length<65536&&(n.head.name+=String.fromCharCode(Mt));while(Mt&&v<u);if(512&n.flags&&(n.check=_(n.check,o,v,r)),u-=v,r+=v,Mt)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=K;case K:if(4096&n.flags){if(0===u)break t;v=0;do Mt=o[r+v++],n.head&&Mt&&n.length<65536&&(n.head.comment+=String.fromCharCode(Mt));while(Mt&&v<u);if(512&n.flags&&(n.check=_(n.check,o,v,r)),u-=v,r+=v,Mt)break t}else n.head&&(n.head.comment=null);n.mode=G;case G:if(512&n.flags){for(;c<16;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}if(f!==(65535&n.check)){t.msg="header crc mismatch",n.mode=ft;break}f=0,c=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Y;break;case H:for(;c<32;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}t.adler=n.check=i(f),f=0,c=0,n.mode=Z;case Z:if(0===n.havedict)return t.next_out=a,t.avail_out=h,t.next_in=r,t.avail_in=u,n.hold=f,n.bits=c,A;t.adler=n.check=1,n.mode=Y;case Y:if(e===C||e===T)break t;case q:if(n.last){f>>>=7&c,c-=7&c,n.mode=ht;break}for(;c<3;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}switch(n.last=1&f,f>>>=1,c-=1,3&f){case 0:n.mode=X;break;case 1:if(l(n),n.mode=nt,e===T){f>>>=2,c-=2;break t}break;case 2:n.mode=$;break;case 3:t.msg="invalid block type",n.mode=ft}f>>>=2,c-=2;break;case X:for(f>>>=7&c,c-=7&c;c<32;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}if((65535&f)!==(f>>>16^65535)){t.msg="invalid stored block lengths",n.mode=ft;break}if(n.length=65535&f,f=0,c=0,n.mode=J,e===T)break t;case J:n.mode=Q;case Q:if(v=n.length){if(v>u&&(v=u),v>h&&(v=h),0===v)break t;m.arraySet(s,o,r,v,a),u-=v,r+=v,h-=v,a+=v,n.length-=v;break}n.mode=Y;break;case $:for(;c<14;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}if(n.nlen=(31&f)+257,f>>>=5,c-=5,n.ndist=(31&f)+1,f>>>=5,c-=5,n.ncode=(15&f)+4,f>>>=4,c-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=ft;break}n.have=0,n.mode=tt;case tt:for(;n.have<n.ncode;){for(;c<3;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}n.lens[Tt[n.have++]]=7&f,f>>>=3,c-=3}for(;n.have<19;)n.lens[Tt[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,
St={bits:n.lenbits},xt=M(x,n.lens,0,19,n.lencode,0,n.work,St),n.lenbits=St.bits,xt){t.msg="invalid code lengths set",n.mode=ft;break}n.have=0,n.mode=et;case et:for(;n.have<n.nlen+n.ndist;){for(;kt=n.lencode[f&(1<<n.lenbits)-1],vt=kt>>>24,gt=kt>>>16&255,mt=65535&kt,!(vt<=c);){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}if(mt<16)f>>>=vt,c-=vt,n.lens[n.have++]=mt;else{if(16===mt){for(Dt=vt+2;c<Dt;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}if(f>>>=vt,c-=vt,0===n.have){t.msg="invalid bit length repeat",n.mode=ft;break}Mt=n.lens[n.have-1],v=3+(3&f),f>>>=2,c-=2}else if(17===mt){for(Dt=vt+3;c<Dt;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}f>>>=vt,c-=vt,Mt=0,v=3+(7&f),f>>>=3,c-=3}else{for(Dt=vt+7;c<Dt;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}f>>>=vt,c-=vt,Mt=0,v=11+(127&f),f>>>=7,c-=7}if(n.have+v>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=ft;break}for(;v--;)n.lens[n.have++]=Mt}}if(n.mode===ft)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=ft;break}if(n.lenbits=9,St={bits:n.lenbits},xt=M(S,n.lens,0,n.nlen,n.lencode,0,n.work,St),n.lenbits=St.bits,xt){t.msg="invalid literal/lengths set",n.mode=ft;break}if(n.distbits=6,n.distcode=n.distdyn,St={bits:n.distbits},xt=M(D,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,St),n.distbits=St.bits,xt){t.msg="invalid distances set",n.mode=ft;break}if(n.mode=nt,e===T)break t;case nt:n.mode=it;case it:if(u>=6&&h>=258){t.next_out=a,t.avail_out=h,t.next_in=r,t.avail_in=u,n.hold=f,n.bits=c,w(t,y),a=t.next_out,s=t.output,h=t.avail_out,r=t.next_in,o=t.input,u=t.avail_in,f=n.hold,c=n.bits,n.mode===Y&&(n.back=-1);break}for(n.back=0;kt=n.lencode[f&(1<<n.lenbits)-1],vt=kt>>>24,gt=kt>>>16&255,mt=65535&kt,!(vt<=c);){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}if(gt&&0===(240&gt)){for(bt=vt,_t=gt,wt=mt;kt=n.lencode[wt+((f&(1<<bt+_t)-1)>>bt)],vt=kt>>>24,gt=kt>>>16&255,mt=65535&kt,!(bt+vt<=c);){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}f>>>=bt,c-=bt,n.back+=bt}if(f>>>=vt,c-=vt,n.back+=vt,n.length=mt,0===gt){n.mode=ut;break}if(32&gt){n.back=-1,n.mode=Y;break}if(64&gt){t.msg="invalid literal/length code",n.mode=ft;break}n.extra=15&gt,n.mode=ot;case ot:if(n.extra){for(Dt=n.extra;c<Dt;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}n.length+=f&(1<<n.extra)-1,f>>>=n.extra,c-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=st;case st:for(;kt=n.distcode[f&(1<<n.distbits)-1],vt=kt>>>24,gt=kt>>>16&255,mt=65535&kt,!(vt<=c);){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}if(0===(240&gt)){for(bt=vt,_t=gt,wt=mt;kt=n.distcode[wt+((f&(1<<bt+_t)-1)>>bt)],vt=kt>>>24,gt=kt>>>16&255,mt=65535&kt,!(bt+vt<=c);){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}f>>>=bt,c-=bt,n.back+=bt}if(f>>>=vt,c-=vt,n.back+=vt,64&gt){t.msg="invalid distance code",n.mode=ft;break}n.offset=mt,n.extra=15&gt,n.mode=rt;case rt:if(n.extra){for(Dt=n.extra;c<Dt;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}n.offset+=f&(1<<n.extra)-1,f>>>=n.extra,c-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=ft;break}n.mode=at;case at:if(0===h)break t;if(v=y-h,n.offset>v){if(v=n.offset-v,v>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=ft;break}v>n.wnext?(v-=n.wnext,g=n.wsize-v):g=n.wnext-v,v>n.length&&(v=n.length),yt=n.window}else yt=s,g=a-n.offset,v=n.length;v>h&&(v=h),h-=v,n.length-=v;do s[a++]=yt[g++];while(--v);0===n.length&&(n.mode=it);break;case ut:if(0===h)break t;s[a++]=n.length,h--,n.mode=it;break;case ht:if(n.wrap){for(;c<32;){if(0===u)break t;u--,f|=o[r++]<<c,c+=8}if(y-=h,t.total_out+=y,n.total+=y,y&&(t.adler=n.check=n.flags?_(n.check,s,y,a-y):b(n.check,s,y,a-y)),y=h,(n.flags?f:i(f))!==n.check){t.msg="incorrect data check",n.mode=ft;break}f=0,c=0}n.mode=lt;case lt:if(n.wrap&&n.flags){for(;c<32;){if(0===u)break t;u--,f+=o[r++]<<c,c+=8}if(f!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=ft;break}f=0,c=0}n.mode=dt;case dt:xt=P;break t;case ft:xt=j;break t;case ct:return O;case pt:default:return z}return t.next_out=a,t.avail_out=h,t.next_in=r,t.avail_in=u,n.hold=f,n.bits=c,(n.wsize||y!==t.avail_out&&n.mode<ft&&(n.mode<ht||e!==k))&&d(t,t.output,t.next_out,y-t.avail_out)?(n.mode=ct,O):(p-=t.avail_in,y-=t.avail_out,t.total_in+=p,t.total_out+=y,n.total+=y,n.wrap&&y&&(t.adler=n.check=n.flags?_(n.check,s,y,t.next_out-y):b(n.check,s,y,t.next_out-y)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Y?128:0)+(n.mode===nt||n.mode===J?256:0),(0===p&&0===y||e===k)&&xt===E&&(xt=F),xt)}function c(t){if(!t||!t.state)return z;var e=t.state;return e.window&&(e.window=null),t.state=null,E}function p(t,e){var n;return t&&t.state?(n=t.state,0===(2&n.wrap)?z:(n.head=e,e.done=!1,E)):z}function y(t,e){var n,i,o,s=e.length;return t&&t.state?(n=t.state,0!==n.wrap&&n.mode!==Z?z:n.mode===Z&&(i=1,i=b(i,e,s,0),i!==n.check)?j:(o=d(t,e,s,s))?(n.mode=ct,O):(n.havedict=1,E)):z}var v,g,m=n(16),b=n(75),_=n(77),w=n(175),M=n(177),x=0,S=1,D=2,k=4,C=5,T=6,E=0,P=1,A=2,z=-2,j=-3,O=-4,F=-5,L=8,I=1,R=2,U=3,V=4,N=5,W=6,B=7,K=8,G=9,H=10,Z=11,Y=12,q=13,X=14,J=15,Q=16,$=17,tt=18,et=19,nt=20,it=21,ot=22,st=23,rt=24,at=25,ut=26,ht=27,lt=28,dt=29,ft=30,ct=31,pt=32,yt=852,vt=592,gt=15,mt=gt,bt=!0;e.inflateReset=r,e.inflateReset2=a,e.inflateResetKeep=s,e.inflateInit=h,e.inflateInit2=u,e.inflate=f,e.inflateEnd=c,e.inflateGetHeader=p,e.inflateSetDictionary=y,e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";var i=n(16),o=15,s=852,r=592,a=0,u=1,h=2,l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],d=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,p,y,v,g,m){var b,_,w,M,x,S,D,k,C,T=m.bits,E=0,P=0,A=0,z=0,j=0,O=0,F=0,L=0,I=0,R=0,U=null,V=0,N=new i.Buf16(o+1),W=new i.Buf16(o+1),B=null,K=0;for(E=0;E<=o;E++)N[E]=0;for(P=0;P<p;P++)N[e[n+P]]++;for(j=T,z=o;z>=1&&0===N[z];z--);if(j>z&&(j=z),0===z)return y[v++]=20971520,y[v++]=20971520,m.bits=1,0;for(A=1;A<z&&0===N[A];A++);for(j<A&&(j=A),L=1,E=1;E<=o;E++)if(L<<=1,L-=N[E],L<0)return-1;if(L>0&&(t===a||1!==z))return-1;for(W[1]=0,E=1;E<o;E++)W[E+1]=W[E]+N[E];for(P=0;P<p;P++)0!==e[n+P]&&(g[W[e[n+P]]++]=P);if(t===a?(U=B=g,S=19):t===u?(U=l,V-=257,B=d,K-=257,S=256):(U=f,B=c,S=-1),R=0,P=0,E=A,x=v,O=j,F=0,w=-1,I=1<<j,M=I-1,t===u&&I>s||t===h&&I>r)return 1;for(;;){D=E-F,g[P]<S?(k=0,C=g[P]):g[P]>S?(k=B[K+g[P]],C=U[V+g[P]]):(k=96,C=0),b=1<<E-F,_=1<<O,A=_;do _-=b,y[x+(R>>F)+_]=D<<24|k<<16|C|0;while(0!==_);for(b=1<<E-1;R&b;)b>>=1;if(0!==b?(R&=b-1,R+=b):R=0,P++,0===--N[E]){if(E===z)break;E=e[n+g[P]]}if(E>j&&(R&M)!==w){for(0===F&&(F=j),x+=A,O=E-F,L=1<<O;O+F<z&&(L-=N[O+F],!(L<=0));)O++,L<<=1;if(I+=1<<O,t===u&&I>s||t===h&&I>r)return 1;w=R&M,y[w]=j<<24|O<<16|x-v|0}}return 0!==R&&(y[x+R]=E-F<<24|64<<16|0),m.bits=j,0}},function(t,e,n){"use strict";function i(t){for(var e=t.length;--e>=0;)t[e]=0}function o(t,e,n,i,o){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=o,this.has_stree=t&&t.length}function s(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function r(t){return t<256?ut[t]:ut[256+(t>>>7)]}function a(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function u(t,e,n){t.bi_valid>q-n?(t.bi_buf|=e<<t.bi_valid&65535,a(t,t.bi_buf),t.bi_buf=e>>q-t.bi_valid,t.bi_valid+=n-q):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function h(t,e,n){u(t,n[2*e],n[2*e+1])}function l(t,e){var n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1}function d(t){16===t.bi_valid?(a(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}function f(t,e){var n,i,o,s,r,a,u=e.dyn_tree,h=e.max_code,l=e.stat_desc.static_tree,d=e.stat_desc.has_stree,f=e.stat_desc.extra_bits,c=e.stat_desc.extra_base,p=e.stat_desc.max_length,y=0;for(s=0;s<=Y;s++)t.bl_count[s]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<Z;n++)i=t.heap[n],s=u[2*u[2*i+1]+1]+1,s>p&&(s=p,y++),u[2*i+1]=s,i>h||(t.bl_count[s]++,r=0,i>=c&&(r=f[i-c]),a=u[2*i],t.opt_len+=a*(s+r),d&&(t.static_len+=a*(l[2*i+1]+r)));if(0!==y){do{for(s=p-1;0===t.bl_count[s];)s--;t.bl_count[s]--,t.bl_count[s+1]+=2,t.bl_count[p]--,y-=2}while(y>0);for(s=p;0!==s;s--)for(i=t.bl_count[s];0!==i;)o=t.heap[--n],o>h||(u[2*o+1]!==s&&(t.opt_len+=(s-u[2*o+1])*u[2*o],u[2*o+1]=s),i--)}}function c(t,e,n){var i,o,s=new Array(Y+1),r=0;for(i=1;i<=Y;i++)s[i]=r=r+n[i-1]<<1;for(o=0;o<=e;o++){var a=t[2*o+1];0!==a&&(t[2*o]=l(s[a]++,a))}}function p(){var t,e,n,i,s,r=new Array(Y+1);for(n=0,i=0;i<W-1;i++)for(lt[i]=n,t=0;t<1<<et[i];t++)ht[n++]=i;for(ht[n-1]=i,s=0,i=0;i<16;i++)for(dt[i]=s,t=0;t<1<<nt[i];t++)ut[s++]=i;for(s>>=7;i<G;i++)for(dt[i]=s<<7,t=0;t<1<<nt[i]-7;t++)ut[256+s++]=i;for(e=0;e<=Y;e++)r[e]=0;for(t=0;t<=143;)rt[2*t+1]=8,t++,r[8]++;for(;t<=255;)rt[2*t+1]=9,t++,r[9]++;for(;t<=279;)rt[2*t+1]=7,t++,r[7]++;for(;t<=287;)rt[2*t+1]=8,t++,r[8]++;for(c(rt,K+1,r),t=0;t<G;t++)at[2*t+1]=5,at[2*t]=l(t,5);ft=new o(rt,et,B+1,K,Y),ct=new o(at,nt,0,G,Y),pt=new o(new Array(0),it,0,H,X)}function y(t){var e;for(e=0;e<K;e++)t.dyn_ltree[2*e]=0;for(e=0;e<G;e++)t.dyn_dtree[2*e]=0;for(e=0;e<H;e++)t.bl_tree[2*e]=0;t.dyn_ltree[2*J]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function v(t){t.bi_valid>8?a(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function g(t,e,n,i){v(t),i&&(a(t,n),a(t,~n)),z.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}function m(t,e,n,i){var o=2*e,s=2*n;return t[o]<t[s]||t[o]===t[s]&&i[e]<=i[n]}function b(t,e,n){for(var i=t.heap[n],o=n<<1;o<=t.heap_len&&(o<t.heap_len&&m(e,t.heap[o+1],t.heap[o],t.depth)&&o++,!m(e,i,t.heap[o],t.depth));)t.heap[n]=t.heap[o],n=o,o<<=1;t.heap[n]=i}function _(t,e,n){var i,o,s,a,l=0;if(0!==t.last_lit)do i=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],o=t.pending_buf[t.l_buf+l],l++,0===i?h(t,o,e):(s=ht[o],h(t,s+B+1,e),a=et[s],0!==a&&(o-=lt[s],u(t,o,a)),i--,s=r(i),h(t,s,n),a=nt[s],0!==a&&(i-=dt[s],u(t,i,a)));while(l<t.last_lit);h(t,J,e)}function w(t,e){var n,i,o,s=e.dyn_tree,r=e.stat_desc.static_tree,a=e.stat_desc.has_stree,u=e.stat_desc.elems,h=-1;for(t.heap_len=0,t.heap_max=Z,n=0;n<u;n++)0!==s[2*n]?(t.heap[++t.heap_len]=h=n,t.depth[n]=0):s[2*n+1]=0;for(;t.heap_len<2;)o=t.heap[++t.heap_len]=h<2?++h:0,s[2*o]=1,t.depth[o]=0,t.opt_len--,a&&(t.static_len-=r[2*o+1]);for(e.max_code=h,n=t.heap_len>>1;n>=1;n--)b(t,s,n);o=u;do n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],b(t,s,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,s[2*o]=s[2*n]+s[2*i],t.depth[o]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,s[2*n+1]=s[2*i+1]=o,t.heap[1]=o++,b(t,s,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],f(t,e),c(s,h,t.bl_count)}function M(t,e,n){var i,o,s=-1,r=e[1],a=0,u=7,h=4;for(0===r&&(u=138,h=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)o=r,r=e[2*(i+1)+1],++a<u&&o===r||(a<h?t.bl_tree[2*o]+=a:0!==o?(o!==s&&t.bl_tree[2*o]++,t.bl_tree[2*Q]++):a<=10?t.bl_tree[2*$]++:t.bl_tree[2*tt]++,a=0,s=o,0===r?(u=138,h=3):o===r?(u=6,h=3):(u=7,h=4))}function x(t,e,n){var i,o,s=-1,r=e[1],a=0,l=7,d=4;for(0===r&&(l=138,d=3),i=0;i<=n;i++)if(o=r,r=e[2*(i+1)+1],!(++a<l&&o===r)){if(a<d){do h(t,o,t.bl_tree);while(0!==--a)}else 0!==o?(o!==s&&(h(t,o,t.bl_tree),a--),h(t,Q,t.bl_tree),u(t,a-3,2)):a<=10?(h(t,$,t.bl_tree),u(t,a-3,3)):(h(t,tt,t.bl_tree),u(t,a-11,7));a=0,s=o,0===r?(l=138,d=3):o===r?(l=6,d=3):(l=7,d=4)}}function S(t){var e;for(M(t,t.dyn_ltree,t.l_desc.max_code),M(t,t.dyn_dtree,t.d_desc.max_code),w(t,t.bl_desc),e=H-1;e>=3&&0===t.bl_tree[2*ot[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}function D(t,e,n,i){var o;for(u(t,e-257,5),u(t,n-1,5),u(t,i-4,4),o=0;o<i;o++)u(t,t.bl_tree[2*ot[o]+1],3);x(t,t.dyn_ltree,e-1),x(t,t.dyn_dtree,n-1)}function k(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return O;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return F;for(e=32;e<B;e++)if(0!==t.dyn_ltree[2*e])return F;return O}function C(t){yt||(p(),yt=!0),t.l_desc=new s(t.dyn_ltree,ft),t.d_desc=new s(t.dyn_dtree,ct),t.bl_desc=new s(t.bl_tree,pt),t.bi_buf=0,t.bi_valid=0,y(t)}function T(t,e,n,i){u(t,(I<<1)+(i?1:0),3),g(t,e,n,!0)}function E(t){u(t,R<<1,3),h(t,J,rt),d(t)}function P(t,e,n,i){var o,s,r=0;t.level>0?(t.strm.data_type===L&&(t.strm.data_type=k(t)),w(t,t.l_desc),w(t,t.d_desc),r=S(t),o=t.opt_len+3+7>>>3,s=t.static_len+3+7>>>3,s<=o&&(o=s)):o=s=n+5,n+4<=o&&e!==-1?T(t,e,n,i):t.strategy===j||s===o?(u(t,(R<<1)+(i?1:0),3),_(t,rt,at)):(u(t,(U<<1)+(i?1:0),3),D(t,t.l_desc.max_code+1,t.d_desc.max_code+1,r+1),_(t,t.dyn_ltree,t.dyn_dtree)),y(t),i&&v(t)}function A(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(ht[n]+B+1)]++,t.dyn_dtree[2*r(e)]++),t.last_lit===t.lit_bufsize-1}var z=n(16),j=4,O=0,F=1,L=2,I=0,R=1,U=2,V=3,N=258,W=29,B=256,K=B+1+W,G=30,H=19,Z=2*K+1,Y=15,q=16,X=7,J=256,Q=16,$=17,tt=18,et=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],nt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],it=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],st=512,rt=new Array(2*(K+2));i(rt);var at=new Array(2*G);i(at);var ut=new Array(st);i(ut);var ht=new Array(N-V+1);i(ht);var lt=new Array(W);i(lt);var dt=new Array(G);i(dt);var ft,ct,pt,yt=!1;e._tr_init=C,e._tr_stored_block=T,e._tr_flush_block=P,e._tr_tally=A,e._tr_align=E},function(t,e,n){var i=function(){return this}()||Function("return this")(),o=i.regeneratorRuntime&&Object.getOwnPropertyNames(i).indexOf("regeneratorRuntime")>=0,s=o&&i.regeneratorRuntime;if(i.regeneratorRuntime=void 0,t.exports=n(180),o)i.regeneratorRuntime=s;else try{delete i.regeneratorRuntime}catch(r){i.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function n(t,e,n,i){var s=e&&e.prototype instanceof o?e:o,r=Object.create(s.prototype),a=new c(i||[]);return r._invoke=h(t,n,a),r}function i(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(i){return{type:"throw",arg:i}}}function o(){}function s(){}function r(){}function a(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function e(n,o,s,r){var a=i(t[n],t,o);if("throw"!==a.type){var u=a.arg,h=u.value;return h&&"object"==typeof h&&m.call(h,"__await")?Promise.resolve(h.__await).then(function(t){e("next",t,s,r)},function(t){e("throw",t,s,r)}):Promise.resolve(h).then(function(t){u.value=t,s(u)},r)}r(a.arg)}function n(t,n){function i(){return new Promise(function(i,o){e(t,n,i,o)})}return o=o?o.then(i,i):i()}var o;this._invoke=n}function h(t,e,n){var o=D;return function(s,r){if(o===C)throw new Error("Generator is already running");if(o===T){if("throw"===s)throw r;return y()}for(n.method=s,n.arg=r;;){var a=n.delegate;if(a){var u=l(a,n);if(u){if(u===E)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===D)throw o=T,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=C;var h=i(t,e,n);if("normal"===h.type){if(o=n.done?T:k,h.arg===E)continue;return{value:h.arg,done:n.done}}"throw"===h.type&&(o=T,n.method="throw",n.arg=h.arg)}}}function l(t,e){var n=t.iterator[e.method];if(n===v){if(e.delegate=null,"throw"===e.method){if(t.iterator["return"]&&(e.method="return",e.arg=v,l(t,e),"throw"===e.method))return E;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}var o=i(n,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,E;var s=o.arg;return s?s.done?(e[t.resultName]=s.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=v),e.delegate=null,E):s:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,E)}function d(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function c(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(d,this),this.reset(!0)}function p(t){if(t){var e=t[_];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function o(){for(;++n<t.length;)if(m.call(t,n))return o.value=t[n],o.done=!1,o;return o.value=v,o.done=!0,o};return i.next=i}}return{next:y}}function y(){return{value:v,done:!0}}var v,g=Object.prototype,m=g.hasOwnProperty,b="function"==typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",M=b.toStringTag||"@@toStringTag",x="object"==typeof t,S=e.regeneratorRuntime;if(S)return void(x&&(t.exports=S));S=e.regeneratorRuntime=x?t.exports:{},S.wrap=n;var D="suspendedStart",k="suspendedYield",C="executing",T="completed",E={},P={};P[_]=function(){return this};var A=Object.getPrototypeOf,z=A&&A(A(p([])));z&&z!==g&&m.call(z,_)&&(P=z);var j=r.prototype=o.prototype=Object.create(P);s.prototype=j.constructor=r,r.constructor=s,r[M]=s.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===s||"GeneratorFunction"===(e.displayName||e.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,r):(t.__proto__=r,M in t||(t[M]="GeneratorFunction")),t.prototype=Object.create(j),t},S.awrap=function(t){return{__await:t}},a(u.prototype),u.prototype[w]=function(){return this},S.AsyncIterator=u,S.async=function(t,e,i,o){var s=new u(n(t,e,i,o));return S.isGeneratorFunction(e)?s:s.next().then(function(t){return t.done?t.value:s.next()})},a(j),j[M]="Generator",j[_]=function(){return this},j.toString=function(){return"[object Generator]"},S.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},S.values=p,c.prototype={constructor:c,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&m.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,i){return s.type="throw",s.arg=t,n.next=e,i&&(n.method="next",n.arg=v),!!i}if(this.done)throw t;for(var n=this,i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var r=m.call(o,"catchLoc"),a=m.call(o,"finallyLoc");if(r&&a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(r){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&m.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=t,s.arg=e,o?(this.method="next",this.next=o.finallyLoc,E):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),E},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),f(n),E}},"catch":function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var i=n.completion;if("throw"===i.type){var o=i.arg;f(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=v),E}}}(function(){return this}()||Function("return this")())}]);
